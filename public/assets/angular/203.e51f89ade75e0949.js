"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[203],{55203:function(xe,P,s){s.r(P),s.d(P,{LekarskiPregledModule:function(){return Fe}});var f=s(43144),h=s(15671),g=s(69808),k=s(74202),F=s(80877),T=s(45687),y=s(1571),S=s(70633),C=s(899),L=s(89930),N=s(59030),J=s(98268),U=s(4460),Q=s(60136),Y=s(57777),E=s(95883),e=s(91891),q=s(40520),x=function(){var t=function(n){(0,Q.Z)(r,n);var a=(0,Y.Z)(r);function r(i){var o;return(0,h.Z)(this,r),(o=a.call(this,i)).url_model="lekarski-pregled",o}return(0,f.Z)(r)}(E.b);return t.\u0275fac=function(a){return new(a||t)(e.LFG(q.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),p=s(93075),O=s(17585),D=s(57261),Z=s(67322),w=s(77531),M=s(74107),A=s(90508),R=s(77446),G=s(32368),B=s(47423),V=s(25245);function H(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("ime"))||null==r.errors?null:r.errors.serverError," ")}}function K(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("prezime"))||null==r.errors?null:r.errors.serverError," ")}}function X(t,n){if(1&t&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&t){var a=n.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.naziv)}}function W(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("visina"))||null==r.errors?null:r.errors.serverError," ")}}function ee(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("tezina"))||null==r.errors?null:r.errors.serverError," ")}}function re(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("alergije"))||null==r.errors?null:r.errors.serverError," ")}}function ae(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw(2);e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("napomena_alergije"))||null==r.errors?null:r.errors.serverError," ")}}function te(t,n){if(1&t&&(e.TgZ(0,"mat-form-field",11),e._UZ(1,"textarea",37),e.YNc(2,ae,2,1,"mat-error",13),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.Q6J("ngModel",a.prijava.napomena_alergije)("errorStateMatcher",a.matcher),e.xp6(1),e.Q6J("ngIf",null==(r=a.prijavaPregledForm.get("napomena_alergije"))||null==r.errors?null:r.errors.serverError)}}function ie(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("zdravstveni_problem"))||null==r.errors?null:r.errors.serverError," ")}}function ne(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw(2);e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("napomena_zdravstveni_problemi"))||null==r.errors?null:r.errors.serverError," ")}}function oe(t,n){if(1&t&&(e.TgZ(0,"mat-form-field",11),e._UZ(1,"textarea",38),e.YNc(2,ne,2,1,"mat-error",13),e.qZA()),2&t){var r,a=e.oxw();e.xp6(1),e.Q6J("ngModel",a.prijava.napomena_zdravstveni_problemi)("errorStateMatcher",a.matcher),e.xp6(1),e.Q6J("ngIf",null==(r=a.prijavaPregledForm.get("napomena_zdravstveni_problemi"))||null==r.errors?null:r.errors.serverError)}}function le(t,n){if(1&t){var a=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"mat-checkbox",41),e.NdJ("change",function(l){return e.CHM(a),e.oxw().chkSmenaChange(l)}),e._uU(3),e._UZ(4,"br"),e.TgZ(5,"small"),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA()()()()}if(2&t){var r=n.$implicit,i=n.index,o=e.oxw();e.Q6J("formGroupName",i),e.xp6(2),e.Q6J("errorStateMatcher",o.matcher)("disabled",!0),e.xp6(1),e.hij(" ",r.value.naziv," "),e.xp6(3),e.AsE("",e.xi3(7,6,r.value.datum_od,"dd.MM.YYYY.")," - ",e.xi3(8,9,r.value.datum_do,"dd.MM.YYYY."),"")}}function de(t,n){if(1&t&&(e.TgZ(0,"div",42)(1,"mat-checkbox",43),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()),2&t){var a=n.$implicit,r=n.index,i=e.oxw();e.Q6J("formGroupName",r),e.xp6(1),e.Q6J("errorStateMatcher",i.matcher)("disabled",!0),e.xp6(1),e.AsE("",a.value.naziv," (",e.xi3(3,6,a.value.iznos_eur,"1.0-0"),"eur) "),e.xp6(3),e.Oqu(a.value.opis)}}function se(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw(2);e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("lekar_id"))||null==r.errors?null:r.errors.serverError," ")}}function ue(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw(2);e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("datum_pregleda"))||null==r.errors?null:r.errors.serverError," ")}}function me(t,n){if(1&t&&(e.TgZ(0,"div",2)(1,"mat-form-field",44),e._UZ(2,"input",45)(3,"input",46),e.YNc(4,se,2,1,"mat-error",13),e.qZA(),e.TgZ(5,"mat-form-field",47),e._UZ(6,"input",48),e.YNc(7,ue,2,1,"mat-error",13),e.qZA()()),2&t){var r,i,a=e.oxw();e.xp6(2),e.Q6J("ngModel",null==a.lekar?null:a.lekar.id),e.xp6(1),e.Q6J("errorStateMatcher",a.matcher)("disabled",!0)("value",(null==a.lekar?null:a.lekar.prezime)+" "+(null==a.lekar?null:a.lekar.ime)),e.xp6(1),e.Q6J("ngIf",null==(r=a.prijavaPregledForm.get("lekar_id"))||null==r.errors?null:r.errors.serverError),e.xp6(2),e.Q6J("ngModel",null==a.prijava||null==a.prijava.pregled?null:a.prijava.pregled.datum_pregleda)("errorStateMatcher",a.matcher),e.xp6(1),e.Q6J("ngIf",null==(i=a.prijavaPregledForm.get("datum_pregleda"))||null==i.errors?null:i.errors.serverError)}}function ve(t,n){if(1&t){var a=e.EpF();e.TgZ(0,"div",39)(1,"mat-form-field",55),e._UZ(2,"input",56),e.qZA(),e.TgZ(3,"mat-form-field",55),e._UZ(4,"input",57),e.qZA(),e.TgZ(5,"div",58)(6,"button",59),e.NdJ("click",function(){var d=e.CHM(a).index;return e.oxw(2).remove_parametar(d)}),e.TgZ(7,"mat-icon"),e._uU(8,"delete"),e.qZA()()()()}2&t&&e.Q6J("formGroupName",n.index)}function pe(t,n){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,a=e.oxw(2);e.xp6(1),e.hij(" ",null==(r=a.prijavaPregledForm.get("napomena"))||null==r.errors?null:r.errors.serverError," ")}}function ce(t,n){if(1&t){var a=e.EpF();e.TgZ(0,"div",2)(1,"div",19)(2,"div",49)(3,"div",2)(4,"div",50)(5,"h5",51),e._uU(6,"Parametri"),e.qZA()()(),e.YNc(7,ve,9,1,"div",27),e.TgZ(8,"div",2)(9,"div",52)(10,"button",53),e.NdJ("click",function(){return e.CHM(a),e.oxw().add_parametar()}),e.TgZ(11,"mat-icon"),e._uU(12,"add"),e.qZA()()()()()(),e.TgZ(13,"div",19)(14,"mat-form-field",11),e._UZ(15,"textarea",54),e.YNc(16,pe,2,1,"mat-error",13),e.qZA()()()}if(2&t){var i,r=e.oxw();e.xp6(7),e.Q6J("ngForOf",r.parametri_pregleda.controls),e.xp6(8),e.Q6J("ngModel",null==r.prijava||null==r.prijava.pregled?null:r.prijava.pregled.napomena)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngIf",null==(i=r.prijavaPregledForm.get("napomena"))||null==i.errors?null:i.errors.serverError)}}var ge=function(){var t=function(){function n(a,r,i,o,d,l,u,v,m,c,_,j,b){var Te=this;(0,h.Z)(this,n),this.fb=a,this.router=r,this.activatedRoute=i,this.routerExtService=o,this.authService=d,this.prijavaService=l,this.kampService=u,this.velicinaService=v,this.polService=m,this.trenerService=c,this.lekarskiPregledService=_,this._location=j,this._snackBar=b,this.prijava=(0,S.h)(),this.lekarski_pregled={},this.velicine=[],this.organizovani_prevoz=[],this.pol=[],this.treneri=[],this.action_create=!1,this.action_update=!1,this.action_delete=!1,this.prijava_success=!1,this.nema_kampa=!1,this.cimeri=[],this.statusi=[],this.matcher=new N.n,this.prijavaService.statusi().subscribe(function(Ce){return Te.statusi=Ce}),this.prijavaPregledForm=function I(t,n){return t.group({prezime:[{value:"",disabled:!0}],ime:[{value:"",disabled:!0}],pol_id:[""],visina:[""],tezina:[""],alergije:[""],zdravstveni_problem:[""],napomena_alergije:[""],napomena_zdravstveni_problemi:[""],smene:t.array([]),dodatni_paketi:t.array([]),pregled_obavljen:[""],lekar_id:[""],parametri_pregleda:t.array([]),datum_pregleda:[""],napomena:[""]})}(this.fb)}return(0,f.Z)(n,[{key:"ngOnInit",value:function(){var r=this;this.velicinaService.all().subscribe(function(o){return r.velicine=o}),this.polService.all().subscribe(function(o){return r.pol=o}),this.trenerService.all().subscribe(function(o){return r.treneri=o});var i=this.authService.getUser();i?(console.log("user1"),this.lekar="lekar"==i.user_type?i:null,console.log(this.lekar)):this.authService.signin().subscribe(function(o){r.authService.handleData(o),i=r.authService.getUser(),console.log("user2"),r.lekar="lekar"==i.user_type?i:null,console.log(r.lekar)}),this.loadFromUrl()}},{key:"store",value:function(){var r=this;this.prijavaService.store(this.prijavaPregledForm.value).subscribe({next:function(o){r.prijava_success=!0},error:function(o){r.submitFormFailed(r.prijavaPregledForm,o)}})}},{key:"update",value:function(){var r=this;this.lekarskiPregledService.update(this.prijava.id,this.prijavaPregledForm.value).subscribe({next:function(o){r.router.navigateByUrl(r.routerExtService.getPreviousUrl())},error:function(o){r.submitFormFailed(r.prijavaPregledForm,o)}})}},{key:"delete",value:function(){var r=this;this.prijavaService.delete(this.prijava.id).subscribe({next:function(o){r.router.navigateByUrl("/admin/prijave")},error:function(o){r.submitFormFailed(r.prijavaPregledForm,o)}})}},{key:"submitForm",value:function(){this.action_create&&this.store(),this.action_update&&this.update(),this.action_delete&&this.delete()}},{key:"submitFormFailed",value:function(r,i){var o=this;422===i.status?Object.keys(i.error.errors).forEach(function(d){var l=r.get(d);l?l.setErrors({serverError:i.error.errors[d]}):o._snackBar.open(i.error.errors[d],"OK")}):this._snackBar.open(i.error.message,"OK")}},{key:"goBack",value:function(){this._location.back()}},{key:"loadFromUrl",value:function(){var i,o,d,r=this;this.action_create=this.activatedRoute.snapshot.url.map(function(l,u,v){return l.path}).includes("unos"),this.action_update=this.activatedRoute.snapshot.url.map(function(l,u,v){return l.path}).includes("izmena"),this.action_delete=this.activatedRoute.snapshot.url.map(function(l,u,v){return l.path}).includes("brisanje"),console.log(null===(i=this.activatedRoute.snapshot.params)||void 0===i?void 0:i.prijavaId),(null===(o=this.activatedRoute.snapshot.params)||void 0===o?void 0:o.prijavaId)&&this.prijavaService.find(null===(d=this.activatedRoute.snapshot.params)||void 0===d?void 0:d.prijavaId).subscribe(function(l){var u,v;r.prijava=l,r.prijava.kamp&&(r.prijava.kamp.smene.forEach(function(m){r.prijava.smene.find(function(c){return c.id==m.id})&&r.smene.push(r.fb.group({naziv:m.naziv,id:m.id,datum_od:m.datum_od,datum_do:m.datum_do,broj_prijava:m.prijave.length,izabrana:!0}))}),r.prijava.kamp.dodatni_paketi.forEach(function(m){r.prijava.dodatni_paketi.find(function(c){return c.id==m.id})&&r.dodatni_paketi.push(r.fb.group({opis:m.opis,naziv:m.naziv,id:m.id,iznos_eur:m.iznos_eur,izabran:!0}))}),null===(v=null===(u=r.prijava)||void 0===u?void 0:u.pregled)||void 0===v||v.parametri.forEach(function(m){r.parametri_pregleda.push(r.fb.group({id:m.id,naziv:m.naziv,vrednost:m.vrednost}))}))})}},{key:"jmbg_parse",value:function(){var r=new L.W(this.prijavaPregledForm.get("jmbg_pasos").value);r.is_valid()&&(this.prijavaPregledForm.get("datum_rodjenja").setValue(r.get_date_str()),this.prijavaPregledForm.get("pol_id").setValue(r.get_pol_id()))}},{key:"smene",get:function(){return this.prijavaPregledForm.get("smene")}},{key:"dodatni_paketi",get:function(){return this.prijavaPregledForm.get("dodatni_paketi")}},{key:"parametri_pregleda",get:function(){return this.prijavaPregledForm.get("parametri_pregleda")}},{key:"add_parametar",value:function(){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.parametri_pregleda.push(this.fb.group({id:i,naziv:o,vrednost:d}))}},{key:"remove_parametar",value:function(r){this.parametri_pregleda.removeAt(r)}},{key:"chkSmenaChange",value:function(r){console.log(r)}},{key:"gratis_changed",value:function(r){r.checked?(this.prijava.ukupno_rsd=0,this.prijava.ukupno_eur=0,this.prijava.opstina=!1,this.prijava.donosi_depozit_u_kamp=!1):(this.prijava.ukupno_rsd=(+this.prijava.ukupno_smene_rsd+ +this.prijava.ukupno_dodatni_paketi_rsd).toFixed(2),this.prijava.ukupno_eur=(+this.prijava.ukupno_smene_eur+ +this.prijava.ukupno_dodatni_paketi_eur).toFixed(2))}},{key:"opstina_changed",value:function(r){r.checked&&(this.prijava.gratis=!1,this.prijava.donosi_depozit_u_kamp=!1)}}]),n}();return t.\u0275fac=function(a){return new(a||t)(e.Y36(p.qu),e.Y36(k.F0),e.Y36(k.gz),e.Y36(O.i),e.Y36(F.e),e.Y36(C.$),e.Y36(T.f),e.Y36(U.O),e.Y36(y.A),e.Y36(J.G),e.Y36(x),e.Y36(g.Ye),e.Y36(D.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-lekarski-pregled-form"]],decls:80,vars:37,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"offset-md-1","col-md-10"],[1,"card"],[1,"card-header","card-header-info"],[1,"col-md-10"],[1,"card-title"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit","keyup.enter"],[1,"col-md-2"],[1,"example-full-width"],["matInput","","placeholder","Ime","formControlName","ime",3,"ngModel","errorStateMatcher","disabled"],[4,"ngIf"],["matInput","","placeholder","Prezime","formControlName","prezime",3,"ngModel","errorStateMatcher","disabled"],["placeholder","Pol","formControlName","pol_id",3,"ngModel","errorStateMatcher"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Visina","formControlName","visina",3,"ngModel","errorStateMatcher"],["matInput","","placeholder","Te\u017eina","formControlName","tezina",3,"ngModel","errorStateMatcher"],[1,"col-md-6"],["placeholder","Alergije","formControlName","alergije",3,"ngModel","errorStateMatcher"],["alergije",""],[3,"value"],["class","example-full-width",4,"ngIf"],["placeholder","Zdravstveni problemi","formControlName","zdravstveni_problem",3,"ngModel","errorStateMatcher"],["zdravstveni_problemi",""],["formArrayName","smene",1,"col-md-6"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","dodatni_paketi"],["class","col-md-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"offset-md-10","col-md-2"],["formControlName","pregled_obavljen",3,"ngModel","ngModelChange"],["pregled_obavljen",""],["class","row",4,"ngIf"],[1,"col-md-12","text-center"],["mat-raised-button","","type","button",1,"btn",3,"click"],[1,"clearfix"],["formControlName","napomena_alergije","matInput","","placeholder","Navedite alergije",3,"ngModel","errorStateMatcher"],["formControlName","napomena_zdravstveni_problemi","matInput","","placeholder","Navedite zdravstvene probleme",3,"ngModel","errorStateMatcher"],[1,"row",3,"formGroupName"],[1,"col-md-12"],["formControlName","izabrana",3,"errorStateMatcher","disabled","change"],[1,"col-md-12",3,"formGroupName"],["formControlName","izabran",3,"errorStateMatcher","disabled"],[1,"example-full-width","col-md-2"],["type","hidden","formControlName","lekar_id",3,"ngModel"],["matInput","","placeholder","Lekar",3,"errorStateMatcher","disabled","value"],[1,"example-full-width","offset-md-8","col-md-2"],["matInput","","placeholder","Datum pregleda","formControlName","datum_pregleda",3,"ngModel","errorStateMatcher"],["formArrayName","parametri_pregleda"],[1,"col-md-8"],[1,"border-bottom"],[1,"offset-md-10","col-md-2","d-flex","justify-content-center"],["mat-mini-fab","","type","button",1,"pull-right","btnPlus",3,"click"],["matInput","","placeholder","Napomena","formControlName","napomena",3,"ngModel","errorStateMatcher"],[1,"col-md-5"],["matInput","","placeholder","Naziv","formControlName","naziv"],["matInput","","placeholder","Vrednost","formControlName","vrednost"],[1,"col-md-2","d-flex","justify-content-center"],["mat-mini-fab","","type","button","color","secondary",1,"pull-right","btnPlus","btn-secondary",3,"click"]],template:function(a,r){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",2)(7,"div",6)(8,"h4",7),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",8)(11,"form",9),e.NdJ("ngSubmit",function(){return r.submitForm()})("keyup.enter",function(){return r.submitForm()}),e.TgZ(12,"h3"),e._uU(13,"Podaci o detetu"),e.qZA(),e.TgZ(14,"div",2)(15,"div",10)(16,"mat-form-field",11),e._UZ(17,"input",12),e.YNc(18,H,2,1,"mat-error",13),e.qZA()(),e.TgZ(19,"div",10)(20,"mat-form-field",11),e._UZ(21,"input",14),e.YNc(22,K,2,1,"mat-error",13),e.qZA()(),e.TgZ(23,"div",10)(24,"mat-form-field",11)(25,"mat-select",15),e.YNc(26,X,2,2,"mat-option",16),e.qZA()()(),e.TgZ(27,"div",10)(28,"mat-form-field",11),e._UZ(29,"input",17),e.YNc(30,W,2,1,"mat-error",13),e.qZA()(),e.TgZ(31,"div",10)(32,"mat-form-field",11),e._UZ(33,"input",18),e.YNc(34,ee,2,1,"mat-error",13),e.qZA()()(),e.TgZ(35,"div",2)(36,"div",19)(37,"mat-form-field",11)(38,"mat-select",20,21)(40,"mat-option",22),e._uU(41,"NE"),e.qZA(),e.TgZ(42,"mat-option",22),e._uU(43,"DA"),e.qZA()(),e.YNc(44,re,2,1,"mat-error",13),e.qZA(),e.YNc(45,te,3,3,"mat-form-field",23),e.qZA(),e.TgZ(46,"div",19)(47,"mat-form-field",11)(48,"mat-select",24,25)(50,"mat-option",22),e._uU(51,"NE"),e.qZA(),e.TgZ(52,"mat-option",22),e._uU(53,"DA"),e.qZA()(),e.YNc(54,ie,2,1,"mat-error",13),e.qZA(),e.YNc(55,oe,3,3,"mat-form-field",23),e.qZA()(),e.TgZ(56,"div",2)(57,"div",26)(58,"h3"),e._uU(59,"Smene"),e.qZA(),e.YNc(60,le,9,12,"div",27),e.qZA(),e.TgZ(61,"div",19)(62,"h3"),e._uU(63,"Dodatni paketi"),e.qZA(),e.TgZ(64,"div",28),e.YNc(65,de,6,9,"div",29),e.qZA()()(),e.TgZ(66,"h3"),e._uU(67,"Pregled"),e.qZA(),e.TgZ(68,"div",2)(69,"div",30)(70,"mat-slide-toggle",31,32),e.NdJ("ngModelChange",function(b){return r.prijava.pregled_obavljen=b}),e._uU(72,"Pregled obavljen"),e.qZA()()(),e.YNc(73,me,8,8,"div",33),e.YNc(74,ce,17,4,"div",33),e.TgZ(75,"div",2)(76,"div",34)(77,"button",35),e.NdJ("click",function(){return r.submitForm()}),e._uU(78,"Potvrdi"),e.qZA()()(),e._UZ(79,"div",36),e.qZA()()()()()()()),2&a){var l,u,v,m,c,_,i=e.MAs(39),o=e.MAs(49),d=e.MAs(71);e.xp6(9),e.AsE(" Prijava #",r.prijava.id," za kamp: ",null==r.prijava||null==r.prijava.kamp?null:r.prijava.kamp.naziv," "),e.xp6(2),e.Q6J("formGroup",r.prijavaPregledForm),e.xp6(6),e.Q6J("ngModel",r.prijava.ime)("errorStateMatcher",r.matcher)("disabled",!0),e.xp6(1),e.Q6J("ngIf",null==(l=r.prijavaPregledForm.get("ime"))||null==l.errors?null:l.errors.serverError),e.xp6(3),e.Q6J("ngModel",r.prijava.prezime)("errorStateMatcher",r.matcher)("disabled",!0),e.xp6(1),e.Q6J("ngIf",null==(u=r.prijavaPregledForm.get("prezime"))||null==u.errors?null:u.errors.serverError),e.xp6(3),e.Q6J("ngModel",null==r.prijava?null:r.prijava.pol_id)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngForOf",r.pol),e.xp6(3),e.Q6J("ngModel",null==r.prijava?null:r.prijava.visina)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngIf",null==(v=r.prijavaPregledForm.get("visina"))||null==v.errors?null:v.errors.serverError),e.xp6(3),e.Q6J("ngModel",null==r.prijava?null:r.prijava.tezina)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngIf",null==(m=r.prijavaPregledForm.get("tezina"))||null==m.errors?null:m.errors.serverError),e.xp6(4),e.Q6J("ngModel",!!r.prijava.alergije)("errorStateMatcher",r.matcher),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("value",!0),e.xp6(2),e.Q6J("ngIf",null==(c=r.prijavaPregledForm.get("alergije"))||null==c.errors?null:c.errors.serverError),e.xp6(1),e.Q6J("ngIf",i.value),e.xp6(3),e.Q6J("ngModel",!!r.prijava.zdravstveni_problem)("errorStateMatcher",r.matcher),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("value",!0),e.xp6(2),e.Q6J("ngIf",null==(_=r.prijavaPregledForm.get("zdravstveni_problem"))||null==_.errors?null:_.errors.serverError),e.xp6(1),e.Q6J("ngIf",o.value),e.xp6(5),e.Q6J("ngForOf",r.smene.controls),e.xp6(5),e.Q6J("ngForOf",r.dodatni_paketi.controls),e.xp6(5),e.Q6J("ngModel",r.prijava.pregled_obavljen),e.xp6(3),e.Q6J("ngIf",d.checked),e.xp6(1),e.Q6J("ngIf",d.checked)}},directives:[p._Y,p.JL,p.sg,Z.KE,w.Nt,p.Fj,p.JJ,p.u,g.O5,Z.TO,M.gD,g.sg,A.ey,p.CE,p.x0,R.oG,G.Rr,B.lW,V.Hw],pipes:[g.uU,g.JJ],styles:[""]}),t}(),fe=["dataTablePrijava"],he=function(){var t=function(){function n(a,r,i,o,d){(0,h.Z)(this,n),this.router=a,this.activatedRoute=r,this.prijavaService=i,this.lekarskiPregledService=o,this.authService=d}return(0,f.Z)(n,[{key:"ngOnInit",value:function(){var i,o,d,r=this;this.kamp_id=null===(i=this.activatedRoute.snapshot.parent.params)||void 0===i?void 0:i.kampId,this.smena_id=null===(o=this.activatedRoute.snapshot.parent.params)||void 0===o?void 0:o.smenaId,this.ucesnik_id=null===(d=this.activatedRoute.snapshot.parent.params)||void 0===d?void 0:d.ucesnikId,this.user=this.authService.getUser(),this.user||this.authService.signin().subscribe(function(l){r.authService.handleData(l),r.user=r.authService.getUser()})}},{key:"ngOnChanges",value:function(r){this.dataTable&&this.dataTable.DataTable().ajax.reload()}},{key:"ngAfterViewInit",value:function(){var r=this,i=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(d,l){d.kamp_id=r.kamp_id,d.smena_id=r.smena_id,d.ucesnik_id=r.ucesnik_id,r.lekarskiPregledService.datatable(d).subscribe(function(u){l({recordsTotal:u.recordsTotal,recordsFiltered:u.recordsFiltered,data:u.data,kamp_id:u.kamp_id,smena_id:u.smena_id})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(d,l,u,v){i.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"U\u010desnik",data:"ucesnik",name:"ucesnik"},{title:"Godi\u0161te",data:"godiste",name:"godiste",className:"dt-center"},{title:"Kamp",data:"kamp",name:"kamps.naziv"},{title:"Smena",data:"smena",name:"smenas.naziv"},{title:"Pregled obavljen",data:"pregled_obavljen",name:"pregled_obavljen"},{title:"Datum pregleda",data:"datum_pregleda",name:"datum_pregleda"},{title:"Napomena",data:"napomena",name:"napomena"},{title:"Akcije",data:"action",name:"action",width:"120px",className:"dt-center"}],columnDefs:[{targets:[4],render:function(d,l,u,v){return d?"DA":"NE"}}],initComplete:function(d,l){i.dataTable.DataTable().columns(1).visible(null==l.kamp_id)},drawCallback:function(){$(".btnEditLekarskiPregled").on("click",function(d){var l;i.router.navigateByUrl("/".concat(null===(l=i.user)||void 0===l?void 0:l.user_type,"/pregled/").concat($(this).data("id"),"/izmena"))}),$(".btnShowLekarskiPregled").on("click",function(d){var l;i.router.navigateByUrl("/".concat(null===(l=i.user)||void 0===l?void 0:l.user_type,"/pregled/").concat($(this).data("id")))}),$(".btnRemoveLekarskiPregled").on("click",function(d){var l;i.router.navigateByUrl("/".concat(null===(l=i.user)||void 0===l?void 0:l.user_type,"/pregled/").concat($(this).data("id"),"/brisanje"))})},language:{url:"//cdn.datatables.net/plug-ins/1.12.1/i18n/sr-SP.json"}}).buttons().container().appendTo("#datatable_prijava_wrapper .col-md-6:eq(0)")}}]),n}();return t.\u0275fac=function(a){return new(a||t)(e.Y36(k.F0),e.Y36(k.gz),e.Y36(C.$),e.Y36(x),e.Y36(F.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-lekarski-pregled-datatable"]],viewQuery:function(a,r){var i;1&a&&e.Gf(fe,5),2&a&&e.iGM(i=e.CRH())&&(r.table=i.first)},inputs:{kamp_id:"kamp_id",smena_id:"smena_id",ucesnik_id:"ucesnik_id"},features:[e.TTD],decls:3,vars:0,consts:[[1,"table-responsive"],["id","datatable_prijava",1,"table","table-bordered","table-striped","table-sm"],["dataTablePrijava",""]],template:function(a,r){1&a&&(e.TgZ(0,"div",0),e._UZ(1,"table",1,2),e.qZA())},styles:[""]}),t}();function ke(t,n){if(1&t&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&t){var a=n.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.naziv)}}function _e(t,n){if(1&t&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&t){var a=n.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.naziv)}}var Ze=[{path:"",pathMatch:"full",component:function(){var t=function(){function n(a){var r=this;(0,h.Z)(this,n),this.kampService=a,this.kampovi=[],this.smene=[],this.kamp_id=null,this.smena_id=null,console.log("pregled index"),this.kampService.all().subscribe(function(i){r.kampovi=i})}return(0,f.Z)(n,[{key:"kamp_selected",value:function(r){var i=this;this.smene=this.kampovi.find(function(o){return o.id==i.kamp_id}).smene}},{key:"ngOnInit",value:function(){}}]),n}();return t.\u0275fac=function(a){return new(a||t)(e.Y36(T.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-lekarski-pregled-index"]],decls:19,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"pull-right","col-md-3"],["placeholder","Izaberite smenu",3,"ngModel","ngModelChange"],["smena",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Izaberite kamp",3,"ngModel","ngModelChange","selectionChange"],["kamp",""],[3,"kamp_id","smena_id"],[3,"value"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Lekarski pregled - u\u010desnici "),e.qZA(),e._UZ(8,"p",7),e.qZA(),e.TgZ(9,"div",8)(10,"mat-form-field",9)(11,"mat-select",10,11),e.NdJ("ngModelChange",function(o){return r.smena_id=o}),e.YNc(13,ke,2,2,"mat-option",12),e.qZA()(),e.TgZ(14,"mat-form-field",9)(15,"mat-select",13,14),e.NdJ("ngModelChange",function(o){return r.kamp_id=o})("selectionChange",function(o){return r.kamp_selected(o)}),e.YNc(17,_e,2,2,"mat-option",12),e.qZA()(),e._UZ(18,"app-lekarski-pregled-datatable",15),e.qZA()()()()()()),2&a&&(e.xp6(11),e.Q6J("ngModel",r.smena_id),e.xp6(2),e.Q6J("ngForOf",r.smene),e.xp6(2),e.Q6J("ngModel",r.kamp_id),e.xp6(2),e.Q6J("ngForOf",r.kampovi),e.xp6(1),e.Q6J("kamp_id",r.kamp_id)("smena_id",r.smena_id))},directives:[Z.KE,M.gD,p.JJ,p.On,g.sg,A.ey,he],styles:[""]}),t}()},{path:":prijavaId/izmena",component:ge}],be=function(){var t=(0,f.Z)(function n(){(0,h.Z)(this,n)});return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[k.Bz.forChild(Ze)],k.Bz]}),t}(),Pe=s(56851),Fe=function(){var t=(0,f.Z)(function n(){(0,h.Z)(this,n)});return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,p.u5,p.UX,Pe.q,be]]}),t}()}}]);