"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[210],{72210:function(V,M,o){o.r(M),o.d(M,{SmenaModule:function(){return L}});var d=o(43144),c=o(15671),h=o(69808),v=o(74202),T=o(51374),I=o(61355),U=o(86867),k=o(28387),r=o(91891),x=function(){var t=function(){function a(){(0,c.Z)(this,a)}return(0,d.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-details-basic"]],decls:2,vars:0,template:function(n,e){1&n&&(r.TgZ(0,"p"),r._uU(1,"details-basic works!"),r.qZA())},styles:[""]}),t}(),j=o(45687),E=o(72808),u=o(93075),f=o(67322),N=o(77531),g=o(86856),S=o(25245),C=o(47423);function Q(t,a){1&t&&(r.TgZ(0,"p",27),r._uU(1,"Novi unos"),r.qZA())}function Y(t,a){1&t&&(r.TgZ(0,"p",27),r._uU(1,"Izmena"),r.qZA())}function B(t,a){1&t&&(r.TgZ(0,"p",27),r._uU(1,"Brisanje"),r.qZA())}function z(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.smenaForm.get("kamp_id"))||null==e.errors?null:e.errors.serverError," ")}}function D(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.smenaForm.get("naziv"))||null==e.errors?null:e.errors.serverError," ")}}function R(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.smenaForm.get("datum_od"))||null==e.errors?null:e.errors.serverError," ")}}function q(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.smenaForm.get("datum_do"))||null==e.errors?null:e.errors.serverError," ")}}function O(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.smenaForm.get("broj_prijava"))||null==e.errors?null:e.errors.serverError," ")}}function X(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.smenaForm.get("cena"))||null==e.errors?null:e.errors.serverError," ")}}var Z=function(){var t=function(){function a(n,e,l,i,m,s){(0,c.Z)(this,a),this.fb=n,this.router=e,this.activatedRoute=l,this.kampService=i,this.smenaService=m,this._location=s,this.matcher=new _,this.smena={id:"",kamp_id:"",naziv:"",datum_od:"",datum_do:"",broj_prijava:"",cena:""},this.action_create=!1,this.action_update=!1,this.action_delete=!1,this.smenaForm=function J(t,a){return t.group({kamp_id:[a.kamp_id],naziv:[a.naziv],datum_od:[a.datum_od],datum_do:[a.datum_do],broj_prijava:[a.broj_prijava],cena:[a.cena],broj_smena:""})}(this.fb,this.smena)}return(0,d.Z)(a,[{key:"ngOnInit",value:function(){this.loadFromUrl()}},{key:"store",value:function(){var e=this;!this.action_create||this.smenaService.store(this.smenaForm.value).subscribe({next:function(i){e.router.navigateByUrl("/kamp")},error:function(i){e.submitFormFailed(e.smenaForm,i)}})}},{key:"update",value:function(){var e=this;!this.action_update||this.kampService.update(this.smena.id,this.smenaForm.value).subscribe({next:function(i){e.router.navigateByUrl("/kamp")},error:function(i){e.submitFormFailed(e.smenaForm,i)}})}},{key:"delete",value:function(){var e=this;!this.action_delete||this.kampService.delete(this.smena.id).subscribe({next:function(i){e.router.navigateByUrl("/kamp")},error:function(i){e.submitFormFailed(e.smenaForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(e,l){422===l.status&&Object.keys(l.error.errors).forEach(function(i){var m=e.get(i);m&&m.setErrors({serverError:l.error.errors[i]})})}},{key:"goBack",value:function(){this._location.back()}},{key:"loadFromUrl",value:function(){var l,i,e=this;this.action_create=this.activatedRoute.snapshot.url.map(function(m,s,p){return m.path}).includes("unos"),this.action_update=this.activatedRoute.snapshot.url.map(function(m,s,p){return m.path}).includes("izmena"),this.action_delete=this.activatedRoute.snapshot.url.map(function(m,s,p){return m.path}).includes("brisanje"),(null===(l=this.activatedRoute.snapshot.params)||void 0===l?void 0:l.kampId)&&this.smenaService.find(null===(i=this.activatedRoute.snapshot.params)||void 0===i?void 0:i.smenaId).subscribe(function(m){e.smena=m})}}]),a}();return t.\u0275fac=function(n){return new(n||t)(r.Y36(u.qu),r.Y36(v.F0),r.Y36(v.gz),r.Y36(j.f),r.Y36(E.n),r.Y36(h.Ye))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-form"]],decls:54,vars:32,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"offset-md-3","col-md-6"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["class","card-category",4,"ngIf"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"example-full-width"],["matInput","","placeholder","Kamp","formControlName","kamp_id",3,"ngModel","readonly","errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Naziv","formControlName","naziv",3,"ngModel","readonly","errorStateMatcher"],[1,"col-md-6"],["appCustomDateFormat1","",1,"example-full-width"],["matInput","","formControlName","datum_od",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["matSuffix","",3,"for"],["datum_od_picker",""],["matInput","","formControlName","datum_do",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["datum_do_picker",""],["matInput","","type","number","placeholder","Broj prijava","formControlName","broj_prijava",3,"ngModel","readonly","errorStateMatcher"],["matInput","","placeholder","Cena","formControlName","cena",3,"ngModel","readonly","errorStateMatcher"],["matSuffix",""],["mat-raised-button","","type","button",1,"btn","btn-danger","pull-right",3,"click"],[1,"clearfix"],[1,"card-category"]],template:function(n,e){if(1&n&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),r._uU(7,"Smena"),r.qZA(),r.YNc(8,Q,2,0,"p",7),r.YNc(9,Y,2,0,"p",7),r.YNc(10,B,2,0,"p",7),r.qZA(),r.TgZ(11,"div",8)(12,"form",9),r.NdJ("ngSubmit",function(){return e.submitForm()}),r.TgZ(13,"div",2)(14,"div",10)(15,"mat-form-field",11),r._UZ(16,"input",12),r.YNc(17,z,2,1,"mat-error",13),r.qZA()(),r.TgZ(18,"div",10)(19,"mat-form-field",11),r._UZ(20,"input",14),r.YNc(21,D,2,1,"mat-error",13),r.qZA()(),r.TgZ(22,"div",15)(23,"mat-form-field",16)(24,"mat-label"),r._uU(25,"Datum od"),r.qZA(),r._UZ(26,"input",17)(27,"mat-datepicker-toggle",18)(28,"mat-datepicker",null,19),r.YNc(30,R,2,1,"mat-error",13),r.qZA()(),r.TgZ(31,"div",15)(32,"mat-form-field",11)(33,"mat-label"),r._uU(34,"Datum do"),r.qZA(),r._UZ(35,"input",20)(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,21),r.YNc(39,q,2,1,"mat-error",13),r.qZA()()(),r.TgZ(40,"div",2)(41,"div",15)(42,"mat-form-field",11),r._UZ(43,"input",22),r.YNc(44,O,2,1,"mat-error",13),r.qZA()(),r.TgZ(45,"div",15)(46,"mat-form-field",11),r._UZ(47,"input",23),r.TgZ(48,"mat-icon",24),r._uU(49,"euro_symbol"),r.qZA(),r.YNc(50,X,2,1,"mat-error",13),r.qZA()()(),r.TgZ(51,"button",25),r.NdJ("click",function(){return e.submitForm()}),r._uU(52,"Potvrdi"),r.qZA(),r._UZ(53,"div",26),r.qZA()()()()()()()),2&n){var m,s,p,F,y,b,l=r.MAs(29),i=r.MAs(38);r.xp6(8),r.Q6J("ngIf",e.action_create),r.xp6(1),r.Q6J("ngIf",e.action_update),r.xp6(1),r.Q6J("ngIf",e.action_delete),r.xp6(2),r.Q6J("formGroup",e.smenaForm),r.xp6(4),r.Q6J("ngModel",e.smena.kamp_id)("readonly",e.action_delete)("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(m=e.smenaForm.get("kamp_id"))||null==m.errors?null:m.errors.serverError),r.xp6(3),r.Q6J("ngModel",e.smena.naziv)("readonly",e.action_delete)("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(s=e.smenaForm.get("naziv"))||null==s.errors?null:s.errors.serverError),r.xp6(5),r.Q6J("matDatepicker",l)("ngModel",e.smena.datum_od)("readonly",e.action_delete)("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("for",l),r.xp6(3),r.Q6J("ngIf",null==(p=e.smenaForm.get("datum_od"))||null==p.errors?null:p.errors.serverError),r.xp6(5),r.Q6J("matDatepicker",i)("ngModel",e.smena.datum_do)("readonly",e.action_delete)("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("for",i),r.xp6(3),r.Q6J("ngIf",null==(F=e.smenaForm.get("datum_do"))||null==F.errors?null:F.errors.serverError),r.xp6(4),r.Q6J("ngModel",e.smena.broj_prijava)("readonly",e.action_delete)("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(y=e.smenaForm.get("broj_prijava"))||null==y.errors?null:y.errors.serverError),r.xp6(3),r.Q6J("ngModel",e.smena.cena)("readonly",e.action_delete)("errorStateMatcher",e.matcher),r.xp6(3),r.Q6J("ngIf",null==(b=e.smenaForm.get("cena"))||null==b.errors?null:b.errors.serverError)}},directives:[h.O5,u._Y,u.JL,u.sg,f.KE,N.Nt,u.Fj,u.JJ,u.u,f.TO,f.hX,g.hl,g.nW,f.R9,g.Mq,u.wV,S.Hw,C.lW],styles:[""]}),t}(),_=function(){function t(){(0,c.Z)(this,t)}return(0,d.Z)(t,[{key:"isErrorState",value:function(n,e){return n&&n.invalid}}]),t}(),w=o(52347),G=[{path:"",pathMatch:"full",component:function(){var t=function(){function a(){(0,c.Z)(this,a)}return(0,d.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-index"]],decls:14,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"]],template:function(n,e){1&n&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),r._uU(7,"Smene "),r.TgZ(8,"button",7)(9,"mat-icon"),r._uU(10,"add"),r.qZA()()(),r._UZ(11,"p",8),r.qZA(),r.TgZ(12,"div",9),r._UZ(13,"app-smena-datatable"),r.qZA()()()()()())},directives:[C.lW,v.rH,S.Hw,w.S],styles:[""]}),t}()},{path:"unos",pathMatch:"full",component:Z},{path:":smenaId",component:T.D,children:[{path:"",redirectTo:"osnovni-podaci",pathMatch:"full"},{path:"osnovni-podaci",component:x},{path:"ucesnici",component:U.Y},{path:"uplate",component:k.R},{path:"oprema",component:I.W}]},{path:":smenaId/izmena",component:Z},{path:":smenaId/brisanje",component:Z}],H=function(){var t=(0,d.Z)(function a(){(0,c.Z)(this,a)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[v.Bz.forChild(G)],v.Bz]}),t}(),K=o(64216),L=function(){var t=(0,d.Z)(function a(){(0,c.Z)(this,a)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[h.ez,K.q,H,u.u5,u.UX]]}),t}()}}]);