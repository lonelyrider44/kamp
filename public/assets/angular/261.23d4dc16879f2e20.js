"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[261],{92261:function(O,g,u){u.r(g),u.d(g,{PrevozModule:function(){return J}});var v=u(43144),d=u(15671),f=u(69808),h=u(74202),t=u(91891),F=function(){var e=function(){function n(){(0,d.Z)(this,n)}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-details"]],decls:2,vars:0,template:function(o,r){1&o&&(t.TgZ(0,"p"),t._uU(1,"details works!"),t.qZA())},styles:[""]}),e}(),z=u(40520),p=u(92340),Z=function(){var e=function(){function n(o){(0,d.Z)(this,n),this.httpClient=o,this.httpOptions={headers:new z.WM({"Content-Type":"application/json"})}}return(0,v.Z)(n,[{key:"datatable",value:function(r){return this.httpClient.post("".concat(p.N.api_url,"/datatable/hotel"),r)}},{key:"all",value:function(){return this.httpClient.get("".concat(p.N.api_url,"/hotel"))}},{key:"find",value:function(r){return this.httpClient.get("".concat(p.N.api_url,"/hotel/").concat(r))}},{key:"store",value:function(r){return this.httpClient.post("".concat(p.N.api_url,"/hotel"),JSON.stringify(r),this.httpOptions)}},{key:"update",value:function(r,a){return this.httpClient.put("".concat(p.N.api_url,"/hotel/id"),JSON.stringify(a),this.httpOptions)}},{key:"delete",value:function(r){return this.httpClient.delete("".concat(p.N.api_url,"/hotel/").concat(r),this.httpOptions)}}]),n}();return e.\u0275fac=function(o){return new(o||e)(t.LFG(z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),s=u(93075),y=u(67322),C=u(77531),k=u(47423);function x(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var r,o=t.oxw();t.xp6(1),t.hij(" ",null==(r=o.prevozForm.get("ucesnik_id"))||null==r.errors?null:r.errors.serverError," ")}}function T(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var r,o=t.oxw();t.xp6(1),t.hij(" ",null==(r=o.prevozForm.get("nacin_prevoza_id"))||null==r.errors?null:r.errors.serverError," ")}}function S(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var r,o=t.oxw();t.xp6(1),t.hij(" ",null==(r=o.prevozForm.get("naplata"))||null==r.errors?null:r.errors.serverError," ")}}function I(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var r,o=t.oxw();t.xp6(1),t.hij(" ",null==(r=o.prevozForm.get("datum_polaska"))||null==r.errors?null:r.errors.serverError," ")}}function M(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var r,o=t.oxw();t.xp6(1),t.hij(" ",null==(r=o.prevozForm.get("datum_odlaska"))||null==r.errors?null:r.errors.serverError," ")}}var b=function(){var e=function(){function n(o,r,a,i,l){(0,d.Z)(this,n),this.fb=o,this.router=r,this.activatedRoute=a,this.prevozService=i,this._location=l,this.prevoz={id:-1},this.action="",this.isReadOnly=!1,this.matcher=new U,this.prevozForm=this.fb.group({})}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){var r=this;this.action=this.activatedRoute.snapshot.url[1].path,this.isReadOnly="delete"==this.action,this.activatedRoute.snapshot.url[2]&&this.prevozService.find(this.activatedRoute.snapshot.url[2].path).subscribe(function(a){r.prevoz=a})}},{key:"store",value:function(){var r=this;"unos"==this.action&&this.prevozService.store(this.prevozForm.value).subscribe({next:function(i){r.router.navigateByUrl("/domeni/home")},error:function(i){r.submitFormFailed(r.prevozForm,i)}})}},{key:"update",value:function(){var r=this;"izmena"==this.action&&this.prevozService.update(this.prevoz.id,this.prevozForm.value).subscribe({next:function(i){r.router.navigateByUrl("/domeni/home")},error:function(i){r.submitFormFailed(r.prevozForm,i)}})}},{key:"delete",value:function(){var r=this;"brisanje"==this.action&&this.prevozService.delete(this.prevoz.id).subscribe({next:function(i){r.router.navigateByUrl("/domeni/home")},error:function(i){r.submitFormFailed(r.prevozForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(r,a){422===a.status&&Object.keys(a.error.errors).forEach(function(i){var l=r.get(i);l&&l.setErrors({serverError:a.error.errors[i]})})}},{key:"goBack",value:function(){this._location.back()}}]),n}();return e.\u0275fac=function(o){return new(o||e)(t.Y36(s.qu),t.Y36(h.F0),t.Y36(h.gz),t.Y36(Z),t.Y36(f.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form"]],decls:36,vars:10,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","U\u010desnik","formControlName","ucesnik_id",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Na\u010din prevoza","formControlName","nacin_prevoza_id",3,"errorStateMatcher"],["matInput","","placeholder","Naplata","formControlName","naplata",3,"errorStateMatcher"],["matInput","","placeholder","Datum polaska","formControlName","datum_polaska",3,"errorStateMatcher"],["matInput","","placeholder","Datum odlaska","formControlName","datum_odlaska",3,"errorStateMatcher"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"]],template:function(o,r){var a,i,l,m,c;1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Prevoz"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Complete your profile"),t.qZA()(),t.TgZ(10,"div",8)(11,"form")(12,"div",2)(13,"div",9)(14,"mat-form-field",10),t._UZ(15,"input",11),t.YNc(16,x,2,1,"mat-error",12),t.qZA()(),t.TgZ(17,"div",9)(18,"mat-form-field",10),t._UZ(19,"input",13),t.YNc(20,T,2,1,"mat-error",12),t.qZA()(),t.TgZ(21,"div",9)(22,"mat-form-field",10),t._UZ(23,"input",14),t.YNc(24,S,2,1,"mat-error",12),t.qZA()(),t.TgZ(25,"div",9)(26,"mat-form-field",10),t._UZ(27,"input",15),t.YNc(28,I,2,1,"mat-error",12),t.qZA()(),t.TgZ(29,"div",9)(30,"mat-form-field",10),t._UZ(31,"input",16),t.YNc(32,M,2,1,"mat-error",12),t.qZA()()(),t.TgZ(33,"button",17),t._uU(34,"Potvrdi"),t.qZA(),t._UZ(35,"div",18),t.qZA()()()()()()()),2&o&&(t.xp6(15),t.Q6J("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngIf",null==(a=r.prevozForm.get("ucesnik_id"))||null==a.errors?null:a.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngIf",null==(i=r.prevozForm.get("nacin_prevoza_id"))||null==i.errors?null:i.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngIf",null==(l=r.prevozForm.get("naplata"))||null==l.errors?null:l.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngIf",null==(m=r.prevozForm.get("datum_polaska"))||null==m.errors?null:m.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",r.matcher),t.xp6(1),t.Q6J("ngIf",null==(c=r.prevozForm.get("datum_odlaska"))||null==c.errors?null:c.errors.serverError))},directives:[s._Y,s.JL,s.F,y.KE,C.Nt,s.Fj,s.JJ,s.u,f.O5,y.TO,k.lW],styles:[""]}),e}(),U=function(){function e(){(0,d.Z)(this,e)}return(0,v.Z)(e,[{key:"isErrorState",value:function(o,r){return o&&o.invalid}}]),e}(),N=["dataTablePrevoz"],P=[{path:"",pathMatch:"full",component:function(){var e=function(){function n(o,r){(0,d.Z)(this,n),this.router=o,this.prevozService=r}return(0,v.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var r=this,a=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(l,m){r.prevozService.datatable(l).subscribe(function(c){m({recordsTotal:c.recordsTotal,recordsFiltered:c.recordsFiltered,data:c.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(l,m,c,Y){a.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"U\u010desnik",data:"ucesnik",name:"ucesnik"},{title:"Roditelj",data:"roditelj",name:"roditelj"},{title:"Prevoz",data:"prevoz",name:"prevoz"},{title:"Polazak",data:"polazak",name:"polazak"},{title:"Povratak",data:"povratak",name:"povratak"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditPrevoz").on("click",function(l){a.router.navigateByUrl("/prevoz/update/".concat($(l.target).data("id")))}),$(".btnRemovePrevoz").on("click",function(l){a.router.navigateByUrl("/prevoz/delete/".concat($(l.target).data("id")))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),n}();return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.F0),t.Y36(Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-index"]],viewQuery:function(o,r){var a;1&o&&t.Gf(N,5),2&o&&t.iGM(a=t.CRH())&&(r.table=a.first)},decls:13,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","datatable_prevoz",1,"table","table-bordered","table-striped","table-sm"],["dataTablePrevoz",""]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Prevoz "),t.qZA(),t._UZ(8,"p",7),t.qZA(),t.TgZ(9,"div",8)(10,"div",9),t._UZ(11,"table",10,11),t.qZA()()()()()()())},styles:[""]}),e}()},{path:"unos",pathMatch:"full",component:b},{path:":prevozId",component:F},{path:":prevozId/izmena",component:b}],E=function(){var e=(0,v.Z)(function n(){(0,d.Z)(this,n)});return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.Bz.forChild(P)],h.Bz]}),e}(),j=u(62753),J=function(){var e=(0,v.Z)(function n(){(0,d.Z)(this,n)});return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.ez,E,j.q,s.u5,s.UX]]}),e}()}}]);