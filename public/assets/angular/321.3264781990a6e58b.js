"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[321],{88321:function(E,_,o){o.r(_),o.d(_,{SmenaModule:function(){return ee}});var h=o(43144),f=o(15671),g=o(69808),m=o(74202),F=o(54394),S=o(61355),p=o(5431),Z=o(97018),c=o(28387),s=o(19916),b=o(59030),A=o(72808),e=o(91891),d=o(93075),C=o(67322),O=o(77531),M=o(86856),J=o(25245),j=o(47423);function z(n,r){1&n&&(e.TgZ(0,"p",27),e._uU(1,"Novi unos"),e.qZA())}function R(n,r){1&n&&(e.TgZ(0,"p",27),e._uU(1,"Izmena"),e.qZA())}function Y(n,r){1&n&&(e.TgZ(0,"p",27),e._uU(1,"Brisanje"),e.qZA())}function Q(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){var t,a=e.oxw();e.xp6(1),e.hij(" ",null==(t=a.smenaForm.get("kamp_id"))||null==t.errors?null:t.errors.serverError," ")}}function D(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){var t,a=e.oxw();e.xp6(1),e.hij(" ",null==(t=a.smenaForm.get("naziv"))||null==t.errors?null:t.errors.serverError," ")}}function B(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){var t,a=e.oxw();e.xp6(1),e.hij(" ",null==(t=a.smenaForm.get("datum_od"))||null==t.errors?null:t.errors.serverError," ")}}function L(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){var t,a=e.oxw();e.xp6(1),e.hij(" ",null==(t=a.smenaForm.get("datum_do"))||null==t.errors?null:t.errors.serverError," ")}}function P(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){var t,a=e.oxw();e.xp6(1),e.hij(" ",null==(t=a.smenaForm.get("broj_prijava"))||null==t.errors?null:t.errors.serverError," ")}}function W(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){var t,a=e.oxw();e.xp6(1),e.hij(" ",null==(t=a.smenaForm.get("cena"))||null==t.errors?null:t.errors.serverError," ")}}var T=function(){var n=function(){function r(a,t,i,l,u,v){(0,f.Z)(this,r),this.fb=a,this.router=t,this.activatedRoute=i,this.kampService=l,this.smenaService=u,this._location=v,this.matcher=new b.n,this.smena={id:"",kamp_id:"",naziv:"",datum_od:"",datum_do:"",broj_prijava:"",cena:""},this.action_create=!1,this.action_update=!1,this.action_delete=!1,this.smenaForm=function N(n,r){return n.group({kamp_id:[r.kamp_id],naziv:[r.naziv],datum_od:[r.datum_od],datum_do:[r.datum_do],broj_prijava:[r.broj_prijava],cena:[r.cena],broj_smena:""})}(this.fb,this.smena)}return(0,h.Z)(r,[{key:"ngOnInit",value:function(){this.loadFromUrl()}},{key:"store",value:function(){var t=this;!this.action_create||this.smenaService.store(this.smenaForm.value).subscribe({next:function(l){t.router.navigateByUrl("/kamp")},error:function(l){t.submitFormFailed(t.smenaForm,l)}})}},{key:"update",value:function(){var t=this;!this.action_update||this.kampService.update(this.smena.id,this.smenaForm.value).subscribe({next:function(l){t.router.navigateByUrl("/kamp")},error:function(l){t.submitFormFailed(t.smenaForm,l)}})}},{key:"delete",value:function(){var t=this;!this.action_delete||this.kampService.delete(this.smena.id).subscribe({next:function(l){t.router.navigateByUrl("/kamp")},error:function(l){t.submitFormFailed(t.smenaForm,l)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(t,i){422===i.status&&Object.keys(i.error.errors).forEach(function(l){var u=t.get(l);u&&u.setErrors({serverError:i.error.errors[l]})})}},{key:"goBack",value:function(){this._location.back()}},{key:"loadFromUrl",value:function(){var i,l,t=this;this.action_create=this.activatedRoute.snapshot.url.map(function(u,v,y){return u.path}).includes("unos"),this.action_update=this.activatedRoute.snapshot.url.map(function(u,v,y){return u.path}).includes("izmena"),this.action_delete=this.activatedRoute.snapshot.url.map(function(u,v,y){return u.path}).includes("brisanje"),(null===(i=this.activatedRoute.snapshot.params)||void 0===i?void 0:i.kampId)&&this.smenaService.find(null===(l=this.activatedRoute.snapshot.params)||void 0===l?void 0:l.smenaId).subscribe(function(u){t.smena=u})}}]),r}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(d.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(s.f),e.Y36(A.n),e.Y36(g.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form"]],decls:54,vars:32,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"offset-md-3","col-md-6"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],["class","card-category",4,"ngIf"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"example-full-width"],["matInput","","placeholder","Kamp","formControlName","kamp_id",3,"ngModel","readonly","errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Naziv","formControlName","naziv",3,"ngModel","readonly","errorStateMatcher"],[1,"col-md-6"],["appCustomDateFormat1","",1,"example-full-width"],["matInput","","formControlName","datum_od",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["matSuffix","",3,"for"],["datum_od_picker",""],["matInput","","formControlName","datum_do",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["datum_do_picker",""],["matInput","","type","number","placeholder","Broj prijava","formControlName","broj_prijava",3,"ngModel","readonly","errorStateMatcher"],["matInput","","placeholder","Cena","formControlName","cena",3,"ngModel","readonly","errorStateMatcher"],["matSuffix",""],["mat-raised-button","","type","button",1,"btn","btn-danger","pull-right",3,"click"],[1,"clearfix"],[1,"card-category"]],template:function(a,t){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Smena"),e.qZA(),e.YNc(8,z,2,0,"p",7),e.YNc(9,R,2,0,"p",7),e.YNc(10,Y,2,0,"p",7),e.qZA(),e.TgZ(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return t.submitForm()}),e.TgZ(13,"div",2)(14,"div",10)(15,"mat-form-field",11),e._UZ(16,"input",12),e.YNc(17,Q,2,1,"mat-error",13),e.qZA()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"input",14),e.YNc(21,D,2,1,"mat-error",13),e.qZA()(),e.TgZ(22,"div",15)(23,"mat-form-field",16)(24,"mat-label"),e._uU(25,"Datum od"),e.qZA(),e._UZ(26,"input",17)(27,"mat-datepicker-toggle",18)(28,"mat-datepicker",null,19),e.YNc(30,B,2,1,"mat-error",13),e.qZA()(),e.TgZ(31,"div",15)(32,"mat-form-field",11)(33,"mat-label"),e._uU(34,"Datum do"),e.qZA(),e._UZ(35,"input",20)(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,21),e.YNc(39,L,2,1,"mat-error",13),e.qZA()()(),e.TgZ(40,"div",2)(41,"div",15)(42,"mat-form-field",11),e._UZ(43,"input",22),e.YNc(44,P,2,1,"mat-error",13),e.qZA()(),e.TgZ(45,"div",15)(46,"mat-form-field",11),e._UZ(47,"input",23),e.TgZ(48,"mat-icon",24),e._uU(49,"euro_symbol"),e.qZA(),e.YNc(50,W,2,1,"mat-error",13),e.qZA()()(),e.TgZ(51,"button",25),e.NdJ("click",function(){return t.submitForm()}),e._uU(52,"Potvrdi"),e.qZA(),e._UZ(53,"div",26),e.qZA()()()()()()()),2&a){var u,v,y,k,U,I,i=e.MAs(29),l=e.MAs(38);e.xp6(8),e.Q6J("ngIf",t.action_create),e.xp6(1),e.Q6J("ngIf",t.action_update),e.xp6(1),e.Q6J("ngIf",t.action_delete),e.xp6(2),e.Q6J("formGroup",t.smenaForm),e.xp6(4),e.Q6J("ngModel",t.smena.kamp_id)("readonly",t.action_delete)("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",null==(u=t.smenaForm.get("kamp_id"))||null==u.errors?null:u.errors.serverError),e.xp6(3),e.Q6J("ngModel",t.smena.naziv)("readonly",t.action_delete)("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",null==(v=t.smenaForm.get("naziv"))||null==v.errors?null:v.errors.serverError),e.xp6(5),e.Q6J("matDatepicker",i)("ngModel",t.smena.datum_od)("readonly",t.action_delete)("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("for",i),e.xp6(3),e.Q6J("ngIf",null==(y=t.smenaForm.get("datum_od"))||null==y.errors?null:y.errors.serverError),e.xp6(5),e.Q6J("matDatepicker",l)("ngModel",t.smena.datum_do)("readonly",t.action_delete)("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("for",l),e.xp6(3),e.Q6J("ngIf",null==(k=t.smenaForm.get("datum_do"))||null==k.errors?null:k.errors.serverError),e.xp6(4),e.Q6J("ngModel",t.smena.broj_prijava)("readonly",t.action_delete)("errorStateMatcher",t.matcher),e.xp6(1),e.Q6J("ngIf",null==(U=t.smenaForm.get("broj_prijava"))||null==U.errors?null:U.errors.serverError),e.xp6(3),e.Q6J("ngModel",t.smena.cena)("readonly",t.action_delete)("errorStateMatcher",t.matcher),e.xp6(3),e.Q6J("ngIf",null==(I=t.smenaForm.get("cena"))||null==I.errors?null:I.errors.serverError)}},directives:[g.O5,d._Y,d.JL,d.sg,C.KE,O.Nt,d.Fj,d.JJ,d.u,C.TO,C.hX,M.hl,M.nW,C.R9,M.Mq,d.wV,J.Hw,j.lW],styles:[""]}),n}(),K=o(52347);function X(n,r){if(1&n&&(e.TgZ(0,"li",13)(1,"a",14)(2,"i",15),e._uU(3,"bug_report"),e.qZA(),e._uU(4),e._UZ(5,"div",16),e.qZA()()),2&n){var a=r.$implicit;e.xp6(1),e.Q6J("routerLink",a.path),e.xp6(3),e.hij(" ",a.title," ")}}var G=[{path:"ucesnici",title:"U\u010desnici",icon:"work_history",class:""},{path:"dodatni-paketi",title:"Dodatni paketi",icon:"work_history",class:""},{path:"oprema",title:"Oprema",icon:"manage_accounts",class:""},{path:"prevoz",title:"Prevoz",icon:"manage_accounts",class:""},{path:"hotel",title:"Hotel",icon:"manage_accounts",class:""},{path:"uplate",title:"uplate",icon:"work_history",class:""}],H=[{path:"",pathMatch:"full",component:function(){var n=function(){function r(){(0,f.Z)(this,r)}return(0,h.Z)(r,[{key:"ngOnInit",value:function(){}}]),r}();return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-index"]],decls:11,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Smene "),e.qZA(),e._UZ(8,"p",7),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"app-smena-datatable"),e.qZA()()()()()())},directives:[K.S],styles:[""]}),n}()},{path:"unos",pathMatch:"full",component:T},{path:":smenaId",component:function(){var n=function(){function r(a,t){(0,f.Z)(this,r),this.activatedRoute=a,this.smenaService=t,this.menuItems=G}return(0,h.Z)(r,[{key:"ngOnInit",value:function(){var i,t=this;this.smenaService.find(null===(i=this.activatedRoute.snapshot.params)||void 0===i?void 0:i.smenaId).subscribe(function(l){return t.smena=l})}}]),r}();return n.\u0275fac=function(a){return new(a||n)(e.Y36(m.gz),e.Y36(A.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-smena-layout"]],decls:16,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-info"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],[1,"nav-tabs-title"],["data-tabs","tabs",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],[1,"card-body"],[1,"nav-item"],["mat-button","","routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"routerLink"],[1,"material-icons"],[1,"ripple-container"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e._UZ(11,"span",9),e.TgZ(12,"ul",10),e.YNc(13,X,6,2,"li",11),e.qZA()()()(),e.TgZ(14,"div",12),e._UZ(15,"router-outlet"),e.qZA()()()()()()),2&a&&(e.xp6(5),e.AsE("",null==t.smena||null==t.smena.kamp?null:t.smena.kamp.naziv," - ",null==t.smena?null:t.smena.naziv,""),e.xp6(8),e.Q6J("ngForOf",t.menuItems))},directives:[g.sg,j.zs,m.yS,m.Od,m.lC],styles:[""]}),n}(),children:[{path:"",redirectTo:"ucesnici",pathMatch:"full"},{path:"ucesnici",component:Z.o},{path:"hotel",component:F.a},{path:"prevoz",component:p.f},{path:"oprema",component:S.W},{path:"uplate",component:c.R},{path:"dodatni-paketi",component:c.R}]},{path:":smenaId/izmena",component:T},{path:":smenaId/brisanje",component:T}],V=function(){var n=(0,h.Z)(function r(){(0,f.Z)(this,r)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(H)],m.Bz]}),n}(),$=o(2466),ee=function(){var n=(0,h.Z)(function r(){(0,f.Z)(this,r)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,$.q,V,d.u5,d.UX]]}),n}()},72808:function(E,_,o){o.d(_,{n:function(){return S}});var h=o(15671),f=o(43144),g=o(40520),m=o(92340),F=o(91891),S=function(){var p=function(){function Z(c){(0,h.Z)(this,Z),this.httpClient=c,this.httpOptions={headers:new g.WM({"Content-Type":"application/json"})}}return(0,f.Z)(Z,[{key:"datatable",value:function(s){return this.httpClient.post("".concat(m.N.api_url,"/datatable/smena"),s)}},{key:"all",value:function(){return this.httpClient.get("".concat(m.N.api_url,"/smena"))}},{key:"find",value:function(s){return this.httpClient.get("".concat(m.N.api_url,"/smena/").concat(s))}},{key:"store",value:function(s){return this.httpClient.post("".concat(m.N.api_url,"/smena"),JSON.stringify(s),this.httpOptions)}},{key:"update",value:function(s,b){return this.httpClient.put("".concat(m.N.api_url,"/smena/").concat(s),JSON.stringify(b),this.httpOptions)}},{key:"delete",value:function(s){return this.httpClient.delete("".concat(m.N.api_url,"/smena/").concat(s),this.httpOptions)}},{key:"ucesnici",value:function(s){return this.httpClient.get("".concat(m.N.api_url,"/smena/").concat(s,"/ucesnici"))}}]),Z}();return p.\u0275fac=function(c){return new(c||p)(F.LFG(g.eN))},p.\u0275prov=F.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p}()}}]);