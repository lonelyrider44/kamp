"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[949],{64949:function(k,b,l){l.r(b),l.d(b,{UplataModule:function(){return R}});var p=l(43144),m=l(15671),g=l(69808),c=l(74202),t=l(91891),y=function(){var e=function(){function r(){(0,m.Z)(this,r)}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){}}]),r}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-details"]],decls:2,vars:0,template:function(n,a){1&n&&(t.TgZ(0,"p"),t._uU(1,"details works!"),t.qZA())},styles:[""]}),e}(),d=l(33812),s=l(93075),C=l(57261),F=l(67322),T=l(77531),U=l(47423);function I(e,r){1&e&&(t.TgZ(0,"p",17),t._uU(1," Novi unos "),t.qZA())}function M(e,r){1&e&&(t.TgZ(0,"p",17),t._uU(1," Izmena "),t.qZA())}function x(e,r){1&e&&(t.TgZ(0,"p",17),t._uU(1," Brisanje "),t.qZA())}function E(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var a,n=t.oxw();t.xp6(1),t.hij(" ",null==(a=n.uplataForm.get("iznos_rsd"))||null==a.errors?null:a.errors.serverError," ")}}function S(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){var a,n=t.oxw();t.xp6(1),t.hij(" ",null==(a=n.uplataForm.get("iznos_rsd"))||null==a.errors?null:a.errors.serverError," ")}}var Z=function(){var e=function(){function r(n,a,o,i,u,v){(0,m.Z)(this,r),this.fb=n,this.router=a,this.activatedRoute=o,this.uplataService=i,this._location=u,this._snackBar=v,this.matcher=new z,this.uplata={iznos_rsd:"",iznos_eur:""},this.action_create=!1,this.action_update=!1,this.action_delete=!1,this.uplataForm=function _(e,r){return e.group({iznos_rsd:[""],iznos_eur:[""],ucesnik_id:[""],prijava_id:[""],smena_id:[""]})}(this.fb)}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){this.loadFromUrl()}},{key:"store",value:function(){var a=this;!this.action_create||this.uplataService.store(this.uplataForm.value).subscribe({next:function(i){a.router.navigateByUrl("/admin/kamp")},error:function(i){a.submitFormFailed(a.uplataForm,i)}})}},{key:"update",value:function(){var a=this;!this.action_update||this.uplataService.update(this.uplata.id,this.uplataForm.value).subscribe({next:function(i){a.router.navigateByUrl("/admin/kamp")},error:function(i){a.submitFormFailed(a.uplataForm,i)}})}},{key:"delete",value:function(){var a=this;!this.action_delete||this.uplataService.delete(this.uplata.id).subscribe({next:function(i){a.router.navigateByUrl("/admin/kamp")},error:function(i){a.submitFormFailed(a.uplataForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(a,o){422===o.status?Object.keys(o.error.errors).forEach(function(i){var u=a.get(i);u&&u.setErrors({serverError:o.error.errors[i]})}):this._snackBar.open(o.error.message,"OK")}},{key:"goBack",value:function(){this._location.back()}},{key:"loadFromUrl",value:function(){var o,i,a=this;this.action_create=this.activatedRoute.snapshot.url.map(function(u,v,h){return u.path}).includes("unos"),this.action_update=this.activatedRoute.snapshot.url.map(function(u,v,h){return u.path}).includes("izmena"),this.action_delete=this.activatedRoute.snapshot.url.map(function(u,v,h){return u.path}).includes("brisanje"),(null===(o=this.activatedRoute.snapshot.params)||void 0===o?void 0:o.kampId)&&this.uplataService.find(null===(i=this.activatedRoute.snapshot.params)||void 0===i?void 0:i.kampId).subscribe(function(u){a.uplata=u})}}]),r}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(s.qu),t.Y36(c.F0),t.Y36(c.gz),t.Y36(d.J),t.Y36(g.S$),t.Y36(C.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-form"]],decls:25,vars:12,consts:[[1,"main-content"],[1,"container"],[1,"row"],[1,"offset-md-2","col-md-8"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["class","card-category",4,"ngIf"],[1,"card-body"],[1,"example-full-width","col-md-6"],["matInput","","placeholder","Iznos RSD","formControlName","iznos_rsd",3,"ngModel","readonly","errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Iznos RSD","formControlName","iznos_eur",3,"ngModel","readonly","errorStateMatcher"],["mat-raised-button","","type","button",1,"btn","btn-danger","pull-right",3,"click"],[1,"clearfix"],[1,"card-category"]],template:function(n,a){var o,i;1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),t.NdJ("ngSubmit",function(){return a.submitForm()}),t.TgZ(5,"div",2)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h4",8),t._uU(10,"Uplata"),t.qZA(),t.YNc(11,I,2,0,"p",9),t.YNc(12,M,2,0,"p",9),t.YNc(13,x,2,0,"p",9),t.qZA(),t.TgZ(14,"div",10)(15,"div",2)(16,"mat-form-field",11),t._UZ(17,"input",12),t.YNc(18,E,2,1,"mat-error",13),t.qZA(),t.TgZ(19,"mat-form-field",11),t._UZ(20,"input",14),t.YNc(21,S,2,1,"mat-error",13),t.qZA()(),t.TgZ(22,"button",15),t.NdJ("click",function(){return a.submitForm()}),t._uU(23," Potvrdi "),t.qZA(),t._UZ(24,"div",16),t.qZA()()()()()()()()()),2&n&&(t.xp6(4),t.Q6J("formGroup",a.uplataForm),t.xp6(7),t.Q6J("ngIf",a.action_create),t.xp6(1),t.Q6J("ngIf",a.action_update),t.xp6(1),t.Q6J("ngIf",a.action_delete),t.xp6(4),t.Q6J("ngModel",a.uplata.iznos_rsd)("readonly",a.action_delete)("errorStateMatcher",a.matcher),t.xp6(1),t.Q6J("ngIf",null==(o=a.uplataForm.get("iznos_rsd"))||null==o.errors?null:o.errors.serverError),t.xp6(2),t.Q6J("ngModel",a.uplata.iznos_rsd)("readonly",a.action_delete)("errorStateMatcher",a.matcher),t.xp6(1),t.Q6J("ngIf",null==(i=a.uplataForm.get("iznos_rsd"))||null==i.errors?null:i.errors.serverError))},directives:[s._Y,s.JL,s.sg,g.O5,F.KE,T.Nt,s.Fj,s.JJ,s.u,F.TO,U.lW],styles:[""]}),e}(),z=function(){function e(){(0,m.Z)(this,e)}return(0,p.Z)(e,[{key:"isErrorState",value:function(n,a){return n&&n.invalid}}]),e}(),O=l(25245),A=["dataTableUplata"],B=[{path:"",pathMatch:"full",component:function(){var e=function(){function r(n,a){(0,m.Z)(this,r),this.router=n,this.uplataService=a}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var a=this,o=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(u,v){a.uplataService.datatable(u).subscribe(function(h){v({recordsTotal:h.recordsTotal,recordsFiltered:h.recordsFiltered,data:h.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(u,v,h,j){o.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"ID",data:"id",name:"id"},{title:"Kamp",data:"kamp",name:"kamps.naziv"},{title:"U\u010desnik",data:"ucesnik",name:"ucesniks.puno_ime"},{title:"Datum",data:"datum",name:"datum"},{title:"Iznos",data:"iznos",name:"iznos"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditKorisnik").on("click",function(u){o.router.navigateByUrl("/uplata/update/".concat($(this).data("id")))}),$(".btnRemoveKorisnik").on("click",function(u){o.router.navigateByUrl("/uplata/delete/".concat($(this).data("id")))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),r}();return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.F0),t.Y36(d.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-index"]],viewQuery:function(n,a){var o;1&n&&t.Gf(A,5),2&n&&t.iGM(o=t.CRH())&&(a.table=o.first)},decls:16,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","datatable_uplata",1,"table","table-bordered","table-striped","table-sm"],["dataTableUplata",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Uplata "),t.TgZ(8,"button",7)(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"p",8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10),t._UZ(14,"table",11,12),t.qZA()()()()()()())},directives:[U.lW,c.rH,O.Hw],styles:[""]}),e}()},{path:"unos",pathMatch:"full",component:Z},{path:":uplataId",component:y},{path:":uplataId/izmena",component:Z}],D=function(){var e=(0,p.Z)(function r(){(0,m.Z)(this,r)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(B)],c.Bz]}),e}(),J=l(62753),R=function(){var e=(0,p.Z)(function r(){(0,m.Z)(this,r)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,D,J.q,s.u5,s.UX]]}),e}()},33812:function(k,b,l){l.d(b,{J:function(){return y}});var p=l(15671),m=l(43144),g=l(40520),c=l(92340),t=l(91891),y=function(){var f=function(){function _(d){(0,p.Z)(this,_),this.httpClient=d,this.httpOptions={headers:new g.WM({"Content-Type":"application/json"})}}return(0,m.Z)(_,[{key:"datatable",value:function(s){return this.httpClient.post("".concat(c.N.api_url,"/datatable/uplata"),s)}},{key:"all",value:function(){return this.httpClient.get("".concat(c.N.api_url,"/uplata"))}},{key:"find",value:function(s){return this.httpClient.get("".concat(c.N.api_url,"/uplata/").concat(s))}},{key:"store",value:function(s){return this.httpClient.post("".concat(c.N.api_url,"/uplata"),JSON.stringify(s),this.httpOptions)}},{key:"update",value:function(s,C){return this.httpClient.put("".concat(c.N.api_url,"/uplata/id"),JSON.stringify(C),this.httpOptions)}},{key:"delete",value:function(s){return this.httpClient.delete("".concat(c.N.api_url,"/uplata/").concat(s),this.httpOptions)}}]),_}();return f.\u0275fac=function(d){return new(d||f)(t.LFG(g.eN))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f}()}}]);