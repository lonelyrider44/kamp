"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[592],{54394:function(b,d,o){o.d(d,{a:function(){return h}});var p=o(15671),m=o(43144),_=o(30494),a=o(91891),c=o(74202),u=["dtHotel"],h=function(){var i=function(){function r(e,t,n){(0,p.Z)(this,r),this.router=e,this.hotelService=t,this.activatedRoute=n}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){var t;this.kamp_id=null===(t=this.activatedRoute.snapshot.parent.params)||void 0===t?void 0:t.kampId}},{key:"ngOnChanges",value:function(t){this.dataTable&&this.dataTable.DataTable().ajax.reload()}},{key:"ngAfterViewInit",value:function(){var t=this,n=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(s,f){s.kamp_id=t.kamp_id,s.smena_id=t.smena_id,t.hotelService.datatable(s).subscribe(function(l){f({recordsTotal:l.recordsTotal,recordsFiltered:l.recordsFiltered,data:l.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(s,f,l,C){n.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"U\u010desnik",data:"ucesnik",name:"ime"},{title:"Roditelj",data:"roditelj",name:"prezime"},{title:"Sopstveni sme\u0161taj",data:"sopstveni_smestaj",name:"sopstveni_smestaj"},{title:"Napomena",data:"napomena_smestaj",name:"napomena_smestaj"},{title:"Broj sobe",data:"broj_sobe",name:"broj_sobe"},{title:"Akcije",data:"action",name:"action",width:"10%"}],columnDefs:[{targets:[2],render:function(s,f,l){return s?"DA":"NE"}}],drawCallback:function(){$(".btnEditKorisnik").on("click",function(s){n.router.navigateByUrl("/korisnici/update/".concat($(s.target).data("id")))}),$(".btnRemoveKorisnik").on("click",function(s){n.router.navigateByUrl("/korisnici/delete/".concat($(s.target).data("id")))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),r}();return i.\u0275fac=function(e){return new(e||i)(a.Y36(c.F0),a.Y36(_.N),a.Y36(c.gz))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-hotel-datatable"]],viewQuery:function(e,t){var n;1&e&&a.Gf(u,5),2&e&&a.iGM(n=a.CRH())&&(t.table=n.first)},inputs:{kamp_id:"kamp_id",smena_id:"smena_id"},features:[a.TTD],decls:3,vars:0,consts:[[1,"table-responsive"],["id","datatable_hotel",1,"table","table-bordered","table-striped","table-sm"],["dtHotel",""]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"table",1,2),a.qZA())},styles:[""]}),i}()},30494:function(b,d,o){o.d(d,{N:function(){return h}});var p=o(15671),m=o(43144),_=o(40520),a=o(92340),c=o(61737),u=o(91891),h=function(){var i=function(){function r(e){(0,p.Z)(this,r),this.httpClient=e,this.httpOptions={headers:new _.WM({"Content-Type":"application/json"})}}return(0,m.Z)(r,[{key:"datatable",value:function(t){return this.httpClient.post("".concat(a.N.api_url,"/datatable/hotel"),t)}},{key:"all",value:function(){return this.httpClient.get("".concat(a.N.api_url,"/hotel"))}},{key:"find",value:function(t){return this.httpClient.get("".concat(a.N.api_url,"/hotel/").concat(t))}},{key:"store",value:function(t){return this.httpClient.post("".concat(a.N.api_url,"/hotel"),JSON.stringify(t),this.httpOptions)}},{key:"update",value:function(t,n){return this.httpClient.put("".concat(a.N.api_url,"/hotel/id"),JSON.stringify(n),this.httpOptions)}},{key:"delete",value:function(t){return this.httpClient.delete("".concat(a.N.api_url,"/hotel/").concat(t),this.httpOptions)}},{key:"errorHandler",value:function(t){var n;return n=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),console.log(n),(0,c._)(n)}}]),r}();return i.\u0275fac=function(e){return new(e||i)(u.LFG(_.eN))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i}()}}]);