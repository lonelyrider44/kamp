"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[371],{8371:function(j,f,l){l.r(f),l.d(f,{UplataModule:function(){return k}});var c=l(3144),d=l(5671),h=l(9808),m=l(2252),t=l(1891),F=function(){var r=function(){function n(){(0,d.Z)(this,n)}return(0,c.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-details"]],decls:2,vars:0,template:function(a,e){1&a&&(t.TgZ(0,"p"),t._uU(1,"details works!"),t.qZA())},styles:[""]}),r}(),v=l(520),p=l(2340),C=function(){var r=function(){function n(a){(0,d.Z)(this,n),this.httpClient=a,this.httpOptions={headers:new v.WM({"Content-Type":"application/json"})}}return(0,c.Z)(n,[{key:"datatable",value:function(e){return this.httpClient.post("".concat(p.N.api_url,"/datatable/uplata"),e)}},{key:"all",value:function(){return this.httpClient.get("".concat(p.N.api_url,"/uplata"))}},{key:"find",value:function(e){return this.httpClient.get("".concat(p.N.api_url,"/uplata/").concat(e))}},{key:"store",value:function(e){return this.httpClient.post("".concat(p.N.api_url,"/uplata"),JSON.stringify(e),this.httpOptions)}},{key:"update",value:function(e,o){return this.httpClient.put("".concat(p.N.api_url,"/uplata/id"),JSON.stringify(o),this.httpOptions)}},{key:"delete",value:function(e){return this.httpClient.delete("".concat(p.N.api_url,"/uplata/").concat(e),this.httpOptions)}}]),n}();return r.\u0275fac=function(a){return new(a||r)(t.LFG(v.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),u=l(3075),g=l(7322),b=l(7531),y=l(7423);function U(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.uplataForm.get("roditelj_id"))||null==e.errors?null:e.errors.serverError," ")}}function x(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.uplataForm.get("dete_id"))||null==e.errors?null:e.errors.serverError," ")}}function S(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.uplataForm.get("iznos"))||null==e.errors?null:e.errors.serverError," ")}}var Z=function(){var r=function(){function n(a,e,o,i,s){(0,d.Z)(this,n),this.fb=a,this.router=e,this.activatedRoute=o,this.uplataService=i,this._location=s,this.uplata={id:-1},this.action="",this.isReadOnly=!1,this.matcher=new I,this.uplataForm=this.fb.group({})}return(0,c.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.action=this.activatedRoute.snapshot.url[1].path,this.isReadOnly="delete"==this.action,this.activatedRoute.snapshot.url[2]&&this.uplataService.find(this.activatedRoute.snapshot.url[2].path).subscribe(function(o){e.uplata=o})}},{key:"store",value:function(){var e=this;"unos"==this.action&&this.uplataService.store(this.uplataForm.value).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.uplataForm,i)}})}},{key:"update",value:function(){var e=this;"izmena"==this.action&&this.uplataService.update(this.uplata.id,this.uplataForm.value).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.uplataForm,i)}})}},{key:"delete",value:function(){var e=this;"brisanje"==this.action&&this.uplataService.delete(this.uplata.id).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.uplataForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(e,o){422===o.status&&Object.keys(o.error.errors).forEach(function(i){var s=e.get(i);s&&s.setErrors({serverError:o.error.errors[i]})})}},{key:"goBack",value:function(){this._location.back()}}]),n}();return r.\u0275fac=function(a){return new(a||r)(t.Y36(u.qu),t.Y36(m.F0),t.Y36(m.gz),t.Y36(C),t.Y36(h.Ye))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-form"]],decls:28,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","Roditelj","formControlName","roditelj_id",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Dete","formControlName","dete_id",3,"errorStateMatcher"],["matInput","","placeholder","Iznos","formControlName","iznos",3,"errorStateMatcher"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"]],template:function(a,e){var o,i,s;1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Uplata"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Complete your profile"),t.qZA()(),t.TgZ(10,"div",8)(11,"form")(12,"div",2)(13,"div",9)(14,"mat-form-field",10),t._UZ(15,"input",11),t.YNc(16,U,2,1,"mat-error",12),t.qZA()(),t.TgZ(17,"div",9)(18,"mat-form-field",10),t._UZ(19,"input",13),t.YNc(20,x,2,1,"mat-error",12),t.qZA()(),t.TgZ(21,"div",9)(22,"mat-form-field",10),t._UZ(23,"input",14),t.YNc(24,S,2,1,"mat-error",12),t.qZA()()(),t.TgZ(25,"button",15),t._uU(26,"Potvrdi"),t.qZA(),t._UZ(27,"div",16),t.qZA()()()()()()()),2&a&&(t.xp6(15),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(o=e.uplataForm.get("roditelj_id"))||null==o.errors?null:o.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(i=e.uplataForm.get("dete_id"))||null==i.errors?null:i.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(s=e.uplataForm.get("iznos"))||null==s.errors?null:s.errors.serverError))},directives:[u._Y,u.JL,u.F,g.KE,b.Nt,u.Fj,u.JJ,u.u,h.O5,g.TO,y.lW],styles:[""]}),r}(),I=function(){function r(){(0,d.Z)(this,r)}return(0,c.Z)(r,[{key:"isErrorState",value:function(a,e){return a&&a.invalid}}]),r}(),M=l(5245),T=["dataTableUplata"],A=[{path:"",pathMatch:"full",component:function(){var r=function(){function n(){(0,d.Z)(this,n)}return(0,c.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-index"]],viewQuery:function(a,e){var o;1&a&&t.Gf(T,5),2&a&&t.iGM(o=t.CRH())&&(e.table=o.first)},decls:16,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","datatable_uplata",1,"table","table-bordered","table-striped","table-sm"],["dataTableUplata",""]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Uplata "),t.TgZ(8,"button",7)(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"p",8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10),t._UZ(14,"table",11,12),t.qZA()()()()()()())},directives:[y.lW,m.rH,M.Hw],styles:[""]}),r}()},{path:"unos",pathMatch:"full",component:Z},{path:":uplataId",component:F},{path:":uplataId/izmena",component:Z}],N=function(){var r=(0,c.Z)(function n(){(0,d.Z)(this,n)});return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[m.Bz.forChild(A)],m.Bz]}),r}(),E=l(9571),k=function(){var r=(0,c.Z)(function n(){(0,d.Z)(this,n)});return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[h.ez,N,E.q,u.u5,u.UX]]}),r}()}}]);