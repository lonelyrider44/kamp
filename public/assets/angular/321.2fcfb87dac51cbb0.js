"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[321],{88321:function(re,T,o){o.r(T),o.d(T,{SmenaModule:function(){return $}});var c=o(43144),p=o(15671),f=o(69808),s=o(74202),M=o(54394),U=o(61355),k=o(5431),I=o(86867),x=o(28387),A=o(45687),E=o(72808),e=o(91891),u=o(93075),h=o(67322),N=o(77531),g=o(86856),C=o(25245),Z=o(47423);function z(t,a){1&t&&(e.TgZ(0,"p",27),e._uU(1,"Novi unos"),e.qZA())}function Q(t,a){1&t&&(e.TgZ(0,"p",27),e._uU(1,"Izmena"),e.qZA())}function Y(t,a){1&t&&(e.TgZ(0,"p",27),e._uU(1,"Brisanje"),e.qZA())}function O(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,n=e.oxw();e.xp6(1),e.hij(" ",null==(r=n.smenaForm.get("kamp_id"))||null==r.errors?null:r.errors.serverError," ")}}function R(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,n=e.oxw();e.xp6(1),e.hij(" ",null==(r=n.smenaForm.get("naziv"))||null==r.errors?null:r.errors.serverError," ")}}function _(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,n=e.oxw();e.xp6(1),e.hij(" ",null==(r=n.smenaForm.get("datum_od"))||null==r.errors?null:r.errors.serverError," ")}}function q(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,n=e.oxw();e.xp6(1),e.hij(" ",null==(r=n.smenaForm.get("datum_do"))||null==r.errors?null:r.errors.serverError," ")}}function B(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,n=e.oxw();e.xp6(1),e.hij(" ",null==(r=n.smenaForm.get("broj_prijava"))||null==r.errors?null:r.errors.serverError," ")}}function L(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){var r,n=e.oxw();e.xp6(1),e.hij(" ",null==(r=n.smenaForm.get("cena"))||null==r.errors?null:r.errors.serverError," ")}}var F=function(){var t=function(){function a(n,r,l,i,m,d){(0,p.Z)(this,a),this.fb=n,this.router=r,this.activatedRoute=l,this.kampService=i,this.smenaService=m,this._location=d,this.matcher=new D,this.smena={id:"",kamp_id:"",naziv:"",datum_od:"",datum_do:"",broj_prijava:"",cena:""},this.action_create=!1,this.action_update=!1,this.action_delete=!1,this.smenaForm=function J(t,a){return t.group({kamp_id:[a.kamp_id],naziv:[a.naziv],datum_od:[a.datum_od],datum_do:[a.datum_do],broj_prijava:[a.broj_prijava],cena:[a.cena],broj_smena:""})}(this.fb,this.smena)}return(0,c.Z)(a,[{key:"ngOnInit",value:function(){this.loadFromUrl()}},{key:"store",value:function(){var r=this;!this.action_create||this.smenaService.store(this.smenaForm.value).subscribe({next:function(i){r.router.navigateByUrl("/kamp")},error:function(i){r.submitFormFailed(r.smenaForm,i)}})}},{key:"update",value:function(){var r=this;!this.action_update||this.kampService.update(this.smena.id,this.smenaForm.value).subscribe({next:function(i){r.router.navigateByUrl("/kamp")},error:function(i){r.submitFormFailed(r.smenaForm,i)}})}},{key:"delete",value:function(){var r=this;!this.action_delete||this.kampService.delete(this.smena.id).subscribe({next:function(i){r.router.navigateByUrl("/kamp")},error:function(i){r.submitFormFailed(r.smenaForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(r,l){422===l.status&&Object.keys(l.error.errors).forEach(function(i){var m=r.get(i);m&&m.setErrors({serverError:l.error.errors[i]})})}},{key:"goBack",value:function(){this._location.back()}},{key:"loadFromUrl",value:function(){var l,i,r=this;this.action_create=this.activatedRoute.snapshot.url.map(function(m,d,v){return m.path}).includes("unos"),this.action_update=this.activatedRoute.snapshot.url.map(function(m,d,v){return m.path}).includes("izmena"),this.action_delete=this.activatedRoute.snapshot.url.map(function(m,d,v){return m.path}).includes("brisanje"),(null===(l=this.activatedRoute.snapshot.params)||void 0===l?void 0:l.kampId)&&this.smenaService.find(null===(i=this.activatedRoute.snapshot.params)||void 0===i?void 0:i.smenaId).subscribe(function(m){r.smena=m})}}]),a}();return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.qu),e.Y36(s.F0),e.Y36(s.gz),e.Y36(A.f),e.Y36(E.n),e.Y36(f.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form"]],decls:54,vars:32,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"offset-md-3","col-md-6"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["class","card-category",4,"ngIf"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"example-full-width"],["matInput","","placeholder","Kamp","formControlName","kamp_id",3,"ngModel","readonly","errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Naziv","formControlName","naziv",3,"ngModel","readonly","errorStateMatcher"],[1,"col-md-6"],["appCustomDateFormat1","",1,"example-full-width"],["matInput","","formControlName","datum_od",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["matSuffix","",3,"for"],["datum_od_picker",""],["matInput","","formControlName","datum_do",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["datum_do_picker",""],["matInput","","type","number","placeholder","Broj prijava","formControlName","broj_prijava",3,"ngModel","readonly","errorStateMatcher"],["matInput","","placeholder","Cena","formControlName","cena",3,"ngModel","readonly","errorStateMatcher"],["matSuffix",""],["mat-raised-button","","type","button",1,"btn","btn-danger","pull-right",3,"click"],[1,"clearfix"],[1,"card-category"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Smena"),e.qZA(),e.YNc(8,z,2,0,"p",7),e.YNc(9,Q,2,0,"p",7),e.YNc(10,Y,2,0,"p",7),e.qZA(),e.TgZ(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return r.submitForm()}),e.TgZ(13,"div",2)(14,"div",10)(15,"mat-form-field",11),e._UZ(16,"input",12),e.YNc(17,O,2,1,"mat-error",13),e.qZA()(),e.TgZ(18,"div",10)(19,"mat-form-field",11),e._UZ(20,"input",14),e.YNc(21,R,2,1,"mat-error",13),e.qZA()(),e.TgZ(22,"div",15)(23,"mat-form-field",16)(24,"mat-label"),e._uU(25,"Datum od"),e.qZA(),e._UZ(26,"input",17)(27,"mat-datepicker-toggle",18)(28,"mat-datepicker",null,19),e.YNc(30,_,2,1,"mat-error",13),e.qZA()(),e.TgZ(31,"div",15)(32,"mat-form-field",11)(33,"mat-label"),e._uU(34,"Datum do"),e.qZA(),e._UZ(35,"input",20)(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,21),e.YNc(39,q,2,1,"mat-error",13),e.qZA()()(),e.TgZ(40,"div",2)(41,"div",15)(42,"mat-form-field",11),e._UZ(43,"input",22),e.YNc(44,B,2,1,"mat-error",13),e.qZA()(),e.TgZ(45,"div",15)(46,"mat-form-field",11),e._UZ(47,"input",23),e.TgZ(48,"mat-icon",24),e._uU(49,"euro_symbol"),e.qZA(),e.YNc(50,L,2,1,"mat-error",13),e.qZA()()(),e.TgZ(51,"button",25),e.NdJ("click",function(){return r.submitForm()}),e._uU(52,"Potvrdi"),e.qZA(),e._UZ(53,"div",26),e.qZA()()()()()()()),2&n){var m,d,v,y,b,S,l=e.MAs(29),i=e.MAs(38);e.xp6(8),e.Q6J("ngIf",r.action_create),e.xp6(1),e.Q6J("ngIf",r.action_update),e.xp6(1),e.Q6J("ngIf",r.action_delete),e.xp6(2),e.Q6J("formGroup",r.smenaForm),e.xp6(4),e.Q6J("ngModel",r.smena.kamp_id)("readonly",r.action_delete)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngIf",null==(m=r.smenaForm.get("kamp_id"))||null==m.errors?null:m.errors.serverError),e.xp6(3),e.Q6J("ngModel",r.smena.naziv)("readonly",r.action_delete)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngIf",null==(d=r.smenaForm.get("naziv"))||null==d.errors?null:d.errors.serverError),e.xp6(5),e.Q6J("matDatepicker",l)("ngModel",r.smena.datum_od)("readonly",r.action_delete)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("for",l),e.xp6(3),e.Q6J("ngIf",null==(v=r.smenaForm.get("datum_od"))||null==v.errors?null:v.errors.serverError),e.xp6(5),e.Q6J("matDatepicker",i)("ngModel",r.smena.datum_do)("readonly",r.action_delete)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("for",i),e.xp6(3),e.Q6J("ngIf",null==(y=r.smenaForm.get("datum_do"))||null==y.errors?null:y.errors.serverError),e.xp6(4),e.Q6J("ngModel",r.smena.broj_prijava)("readonly",r.action_delete)("errorStateMatcher",r.matcher),e.xp6(1),e.Q6J("ngIf",null==(b=r.smenaForm.get("broj_prijava"))||null==b.errors?null:b.errors.serverError),e.xp6(3),e.Q6J("ngModel",r.smena.cena)("readonly",r.action_delete)("errorStateMatcher",r.matcher),e.xp6(3),e.Q6J("ngIf",null==(S=r.smenaForm.get("cena"))||null==S.errors?null:S.errors.serverError)}},directives:[f.O5,u._Y,u.JL,u.sg,h.KE,N.Nt,u.Fj,u.JJ,u.u,h.TO,h.hX,g.hl,g.nW,h.R9,g.Mq,u.wV,C.Hw,Z.lW],styles:[""]}),t}(),D=function(){function t(){(0,p.Z)(this,t)}return(0,c.Z)(t,[{key:"isErrorState",value:function(n,r){return n&&n.invalid}}]),t}(),w=o(52347);function H(t,a){if(1&t&&(e.TgZ(0,"li",12)(1,"a",13)(2,"i",14),e._uU(3,"bug_report"),e.qZA(),e._uU(4),e._UZ(5,"div",15),e.qZA()()),2&t){var n=a.$implicit;e.xp6(1),e.Q6J("routerLink",n.path),e.xp6(3),e.hij(" ",n.title," ")}}var W=[{path:"ucesnici",title:"U\u010desnici",icon:"work_history",class:""},{path:"oprema",title:"Oprema",icon:"manage_accounts",class:""},{path:"prevoz",title:"Prevoz",icon:"manage_accounts",class:""},{path:"hotel",title:"Hotel",icon:"manage_accounts",class:""}],K=[{path:"",pathMatch:"full",component:function(){var t=function(){function a(){(0,p.Z)(this,a)}return(0,c.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-index"]],decls:14,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Smene "),e.TgZ(8,"button",7)(9,"mat-icon"),e._uU(10,"add"),e.qZA()()(),e._UZ(11,"p",8),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-smena-datatable"),e.qZA()()()()()())},directives:[Z.lW,s.rH,C.Hw,w.S],styles:[""]}),t}()},{path:"unos",pathMatch:"full",component:F},{path:":smenaId",component:function(){var t=function(){function a(){(0,p.Z)(this,a),this.menuItems=W}return(0,c.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-smena-layout"]],decls:13,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-danger"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],[1,"nav-tabs-title"],["data-tabs","tabs",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],[1,"card-body"],[1,"nav-item"],["mat-button","","routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"routerLink"],[1,"material-icons"],[1,"ripple-container"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._UZ(8,"span",8),e.TgZ(9,"ul",9),e.YNc(10,H,6,2,"li",10),e.qZA()()()(),e.TgZ(11,"div",11),e._UZ(12,"router-outlet"),e.qZA()()()()()()),2&n&&(e.xp6(10),e.Q6J("ngForOf",r.menuItems))},directives:[f.sg,Z.zs,s.yS,s.Od,s.lC],styles:[""]}),t}(),children:[{path:"",redirectTo:"ucesnici",pathMatch:"full"},{path:"ucesnici",component:I.Y},{path:"hotel",component:M.a},{path:"prevoz",component:k.f},{path:"oprema",component:U.W},{path:"uplate",component:x.R}]},{path:":smenaId/izmena",component:F},{path:":smenaId/brisanje",component:F}],P=function(){var t=(0,c.Z)(function a(){(0,p.Z)(this,a)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.Bz.forChild(K)],s.Bz]}),t}(),V=o(62753),$=function(){var t=(0,c.Z)(function a(){(0,p.Z)(this,a)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.ez,V.q,P,u.u5,u.UX]]}),t}()}}]);