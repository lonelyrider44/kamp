"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[76],{24076:function(z,g,l){l.r(g),l.d(g,{HotelModule:function(){return w}});var d=l(43144),h=l(15671),p=l(69808),m=l(74202),t=l(91891),x=function(){var r=function(){function n(){(0,h.Z)(this,n)}return(0,d.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-details"]],decls:2,vars:0,template:function(o,e){1&o&&(t.TgZ(0,"p"),t._uU(1,"details works!"),t.qZA())},styles:[""]}),r}(),Z=l(40520),f=l(92340),T=l(61737),y=function(){var r=function(){function n(o){(0,h.Z)(this,n),this.httpClient=o,this.httpOptions={headers:new Z.WM({"Content-Type":"application/json"})}}return(0,d.Z)(n,[{key:"datatable",value:function(e){return this.httpClient.post("".concat(f.N.api_url,"/datatable/hotel"),e)}},{key:"all",value:function(){return this.httpClient.get("".concat(f.N.api_url,"/hotel"))}},{key:"find",value:function(e){return this.httpClient.get("".concat(f.N.api_url,"/hotel/").concat(e))}},{key:"store",value:function(e){return this.httpClient.post("".concat(f.N.api_url,"/hotel"),JSON.stringify(e),this.httpOptions)}},{key:"update",value:function(e,a){return this.httpClient.put("".concat(f.N.api_url,"/hotel/id"),JSON.stringify(a),this.httpOptions)}},{key:"delete",value:function(e){return this.httpClient.delete("".concat(f.N.api_url,"/hotel/").concat(e),this.httpOptions)}},{key:"errorHandler",value:function(e){var a;return a=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(a),(0,T._)(a)}}]),n}();return r.\u0275fac=function(o){return new(o||r)(t.LFG(Z.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),s=l(93075),b=l(67322),k=l(77531),F=l(47423);function M(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,o=t.oxw();t.xp6(1),t.hij(" ",null==(e=o.hotelForm.get("naziv"))||null==e.errors?null:e.errors.serverError," ")}}function S(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,o=t.oxw();t.xp6(1),t.hij(" ",null==(e=o.hotelForm.get("mesto_id"))||null==e.errors?null:e.errors.serverError," ")}}function I(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,o=t.oxw();t.xp6(1),t.hij(" ",null==(e=o.hotelForm.get("adresa"))||null==e.errors?null:e.errors.serverError," ")}}function U(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,o=t.oxw();t.xp6(1),t.hij(" ",null==(e=o.hotelForm.get("telefon"))||null==e.errors?null:e.errors.serverError," ")}}function E(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,o=t.oxw();t.xp6(1),t.hij(" ",null==(e=o.hotelForm.get("napomena"))||null==e.errors?null:e.errors.serverError," ")}}var C=function(){var r=function(){function n(o,e,a,i,u){(0,h.Z)(this,n),this.fb=o,this.router=e,this.activatedRoute=a,this.hotelService=i,this._location=u,this.hotel={id:-1},this.action="",this.isReadOnly=!1,this.matcher=new N,this.hotelForm=this.fb.group({})}return(0,d.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.action=this.activatedRoute.snapshot.url[1].path,this.isReadOnly="delete"==this.action,this.activatedRoute.snapshot.url[2]&&this.hotelService.find(this.activatedRoute.snapshot.url[2].path).subscribe(function(a){e.hotel=a})}},{key:"store",value:function(){var e=this;"unos"==this.action&&this.hotelService.store(this.hotelForm.value).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.hotelForm,i)}})}},{key:"update",value:function(){var e=this;"izmena"==this.action&&this.hotelService.update(this.hotel.id,this.hotelForm.value).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.hotelForm,i)}})}},{key:"delete",value:function(){var e=this;"brisanje"==this.action&&this.hotelService.delete(this.hotel.id).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.hotelForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(e,a){422===a.status&&Object.keys(a.error.errors).forEach(function(i){var u=e.get(i);u&&u.setErrors({serverError:a.error.errors[i]})})}},{key:"goBack",value:function(){this._location.back()}}]),n}();return r.\u0275fac=function(o){return new(o||r)(t.Y36(s.qu),t.Y36(m.F0),t.Y36(m.gz),t.Y36(y),t.Y36(p.Ye))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-form"]],decls:36,vars:10,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","Naziv hotela","formControlName","naziv",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Mesto","formControlName","mesto_id",3,"errorStateMatcher"],["matInput","","placeholder","Adresa","formControlName","adresa",3,"errorStateMatcher"],["matInput","","placeholder","Telefon","formControlName","telefon",3,"errorStateMatcher"],["matInput","","placeholder","Napomena","formControlName","napomena",3,"errorStateMatcher"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"]],template:function(o,e){var a,i,u,v,c;1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Hotel"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Complete your profile"),t.qZA()(),t.TgZ(10,"div",8)(11,"form")(12,"div",2)(13,"div",9)(14,"mat-form-field",10),t._UZ(15,"input",11),t.YNc(16,M,2,1,"mat-error",12),t.qZA()(),t.TgZ(17,"div",9)(18,"mat-form-field",10),t._UZ(19,"input",13),t.YNc(20,S,2,1,"mat-error",12),t.qZA()(),t.TgZ(21,"div",9)(22,"mat-form-field",10),t._UZ(23,"input",14),t.YNc(24,I,2,1,"mat-error",12),t.qZA()(),t.TgZ(25,"div",9)(26,"mat-form-field",10),t._UZ(27,"input",15),t.YNc(28,U,2,1,"mat-error",12),t.qZA()(),t.TgZ(29,"div",9)(30,"mat-form-field",10),t._UZ(31,"input",16),t.YNc(32,E,2,1,"mat-error",12),t.qZA()()(),t.TgZ(33,"button",17),t._uU(34,"Update Profile"),t.qZA(),t._UZ(35,"div",18),t.qZA()()()()()()()),2&o&&(t.xp6(15),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(a=e.hotelForm.get("naziv"))||null==a.errors?null:a.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(i=e.hotelForm.get("mesto_id"))||null==i.errors?null:i.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(u=e.hotelForm.get("adresa"))||null==u.errors?null:u.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(v=e.hotelForm.get("telefon"))||null==v.errors?null:v.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(c=e.hotelForm.get("napomena"))||null==c.errors?null:c.errors.serverError))},directives:[s._Y,s.JL,s.F,b.KE,k.Nt,s.Fj,s.JJ,s.u,p.O5,b.TO,F.lW],styles:[""]}),r}(),N=function(){function r(){(0,h.Z)(this,r)}return(0,d.Z)(r,[{key:"isErrorState",value:function(o,e){return o&&o.invalid}}]),r}(),A=l(25245),H=["dataTableHotel"],J=[{path:"",pathMatch:"full",component:function(){var r=function(){function n(o,e){(0,h.Z)(this,n),this.router=o,this.hotelService=e}return(0,d.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this,a=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(u,v){e.hotelService.datatable(u).subscribe(function(c){v({recordsTotal:c.recordsTotal,recordsFiltered:c.recordsFiltered,data:c.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(u,v,c,B){a.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"ID",data:"id",name:"id"},{title:"Naziv",data:"naziv",name:"naziv"},{title:"Godina",data:"godina",name:"godina"},{title:"Lokacija",data:"lokacija_id",name:"lokacija_id"},{title:"Cena",data:"cena",name:"cena"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditKorisnik").on("click",function(u){a.router.navigateByUrl("/korisnici/update/".concat($(u.target).data("id")))}),$(".btnRemoveKorisnik").on("click",function(u){a.router.navigateByUrl("/korisnici/delete/".concat($(u.target).data("id")))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),n}();return r.\u0275fac=function(o){return new(o||r)(t.Y36(m.F0),t.Y36(y))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-index"]],viewQuery:function(o,e){var a;1&o&&t.Gf(H,5),2&o&&t.iGM(a=t.CRH())&&(e.table=a.first)},decls:16,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","datatable_hotel",1,"table","table-bordered","table-striped","table-sm"],["dataTableHotel",""]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Hoteli "),t.TgZ(8,"button",7)(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"p",8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10),t._UZ(14,"table",11,12),t.qZA()()()()()()())},directives:[F.lW,m.rH,A.Hw],styles:[""]}),r}()},{path:"unos",pathMatch:"full",component:C},{path:":hotelId",component:x},{path:":hotelId/izmena",component:C}],O=function(){var r=(0,d.Z)(function n(){(0,h.Z)(this,n)});return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[m.Bz.forChild(J)],m.Bz]}),r}(),Y=l(64216),w=function(){var r=(0,d.Z)(function n(){(0,h.Z)(this,n)});return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.ez,O,Y.q,s.u5,s.UX]]}),r}()}}]);