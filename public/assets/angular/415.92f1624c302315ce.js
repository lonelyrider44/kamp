"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[415],{88321:function(I,Z,o){o.r(Z),o.d(Z,{SmenaModule:function(){return tt}});var f=o(43144),g=o(15671),v=o(69808),i=o(74202),y=o(54394),F=o(61355),d=o(5431),p=o(97018),l=o(28387),u=o(45687),S=o(59030),A=o(72808),t=o(91891),h=o(93075),k=o(67322),x=o(77531),M=o(86856),J=o(25245),O=o(47423);function D(n,r){1&n&&(t.TgZ(0,"p",27),t._uU(1,"Novi unos"),t.qZA())}function R(n,r){1&n&&(t.TgZ(0,"p",27),t._uU(1,"Izmena"),t.qZA())}function z(n,r){1&n&&(t.TgZ(0,"p",27),t._uU(1,"Brisanje"),t.qZA())}function L(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.smenaForm.get("kamp_id"))||null==e.errors?null:e.errors.serverError," ")}}function P(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.smenaForm.get("naziv"))||null==e.errors?null:e.errors.serverError," ")}}function Y(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.smenaForm.get("datum_od"))||null==e.errors?null:e.errors.serverError," ")}}function B(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.smenaForm.get("datum_do"))||null==e.errors?null:e.errors.serverError," ")}}function Q(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.smenaForm.get("broj_prijava"))||null==e.errors?null:e.errors.serverError," ")}}function W(n,r){if(1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&n){var e,a=t.oxw();t.xp6(1),t.hij(" ",null==(e=a.smenaForm.get("cena"))||null==e.errors?null:e.errors.serverError," ")}}var T=function(){var n=function(){function r(a,e,s,m,c,_){(0,g.Z)(this,r),this.fb=a,this.router=e,this.activatedRoute=s,this.kampService=m,this.smenaService=c,this._location=_,this.matcher=new S.n,this.smena={id:"",kamp_id:"",naziv:"",datum_od:"",datum_do:"",broj_prijava:"",cena:""},this.action_create=!1,this.action_update=!1,this.action_delete=!1,this.smenaForm=function j(n,r){return n.group({kamp_id:[r.kamp_id],naziv:[r.naziv],datum_od:[r.datum_od],datum_do:[r.datum_do],broj_prijava:[r.broj_prijava],cena:[r.cena],broj_smena:""})}(this.fb,this.smena)}return(0,f.Z)(r,[{key:"ngOnInit",value:function(){this.loadFromUrl()}},{key:"store",value:function(){var e=this;!this.action_create||this.smenaService.store(this.smenaForm.value).subscribe({next:function(m){e.router.navigateByUrl("/kamp")},error:function(m){e.submitFormFailed(e.smenaForm,m)}})}},{key:"update",value:function(){var e=this;!this.action_update||this.kampService.update(this.smena.id,this.smenaForm.value).subscribe({next:function(m){e.router.navigateByUrl("/kamp")},error:function(m){e.submitFormFailed(e.smenaForm,m)}})}},{key:"delete",value:function(){var e=this;!this.action_delete||this.kampService.delete(this.smena.id).subscribe({next:function(m){e.router.navigateByUrl("/kamp")},error:function(m){e.submitFormFailed(e.smenaForm,m)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(e,s){422===s.status&&Object.keys(s.error.errors).forEach(function(m){var c=e.get(m);c&&c.setErrors({serverError:s.error.errors[m]})})}},{key:"goBack",value:function(){this._location.back()}},{key:"loadFromUrl",value:function(){var s,m,e=this;this.action_create=this.activatedRoute.snapshot.url.map(function(c,_,C){return c.path}).includes("unos"),this.action_update=this.activatedRoute.snapshot.url.map(function(c,_,C){return c.path}).includes("izmena"),this.action_delete=this.activatedRoute.snapshot.url.map(function(c,_,C){return c.path}).includes("brisanje"),(null===(s=this.activatedRoute.snapshot.params)||void 0===s?void 0:s.kampId)&&this.smenaService.find(null===(m=this.activatedRoute.snapshot.params)||void 0===m?void 0:m.smenaId).subscribe(function(c){e.smena=c})}}]),r}();return n.\u0275fac=function(a){return new(a||n)(t.Y36(h.qu),t.Y36(i.F0),t.Y36(i.gz),t.Y36(u.f),t.Y36(A.n),t.Y36(v.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-form"]],decls:54,vars:32,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"offset-md-3","col-md-6"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],["class","card-category",4,"ngIf"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"example-full-width"],["matInput","","placeholder","Kamp","formControlName","kamp_id",3,"ngModel","readonly","errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Naziv","formControlName","naziv",3,"ngModel","readonly","errorStateMatcher"],[1,"col-md-6"],["appCustomDateFormat1","",1,"example-full-width"],["matInput","","formControlName","datum_od",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["matSuffix","",3,"for"],["datum_od_picker",""],["matInput","","formControlName","datum_do",3,"matDatepicker","ngModel","readonly","errorStateMatcher"],["datum_do_picker",""],["matInput","","type","number","placeholder","Broj prijava","formControlName","broj_prijava",3,"ngModel","readonly","errorStateMatcher"],["matInput","","placeholder","Cena","formControlName","cena",3,"ngModel","readonly","errorStateMatcher"],["matSuffix",""],["mat-raised-button","","type","button",1,"btn","btn-danger","pull-right",3,"click"],[1,"clearfix"],[1,"card-category"]],template:function(a,e){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Smena"),t.qZA(),t.YNc(8,D,2,0,"p",7),t.YNc(9,R,2,0,"p",7),t.YNc(10,z,2,0,"p",7),t.qZA(),t.TgZ(11,"div",8)(12,"form",9),t.NdJ("ngSubmit",function(){return e.submitForm()}),t.TgZ(13,"div",2)(14,"div",10)(15,"mat-form-field",11),t._UZ(16,"input",12),t.YNc(17,L,2,1,"mat-error",13),t.qZA()(),t.TgZ(18,"div",10)(19,"mat-form-field",11),t._UZ(20,"input",14),t.YNc(21,P,2,1,"mat-error",13),t.qZA()(),t.TgZ(22,"div",15)(23,"mat-form-field",16)(24,"mat-label"),t._uU(25,"Datum od"),t.qZA(),t._UZ(26,"input",17)(27,"mat-datepicker-toggle",18)(28,"mat-datepicker",null,19),t.YNc(30,Y,2,1,"mat-error",13),t.qZA()(),t.TgZ(31,"div",15)(32,"mat-form-field",11)(33,"mat-label"),t._uU(34,"Datum do"),t.qZA(),t._UZ(35,"input",20)(36,"mat-datepicker-toggle",18)(37,"mat-datepicker",null,21),t.YNc(39,B,2,1,"mat-error",13),t.qZA()()(),t.TgZ(40,"div",2)(41,"div",15)(42,"mat-form-field",11),t._UZ(43,"input",22),t.YNc(44,Q,2,1,"mat-error",13),t.qZA()(),t.TgZ(45,"div",15)(46,"mat-form-field",11),t._UZ(47,"input",23),t.TgZ(48,"mat-icon",24),t._uU(49,"euro_symbol"),t.qZA(),t.YNc(50,W,2,1,"mat-error",13),t.qZA()()(),t.TgZ(51,"button",25),t.NdJ("click",function(){return e.submitForm()}),t._uU(52,"Potvrdi"),t.qZA(),t._UZ(53,"div",26),t.qZA()()()()()()()),2&a){var c,_,C,b,U,E,s=t.MAs(29),m=t.MAs(38);t.xp6(8),t.Q6J("ngIf",e.action_create),t.xp6(1),t.Q6J("ngIf",e.action_update),t.xp6(1),t.Q6J("ngIf",e.action_delete),t.xp6(2),t.Q6J("formGroup",e.smenaForm),t.xp6(4),t.Q6J("ngModel",e.smena.kamp_id)("readonly",e.action_delete)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(c=e.smenaForm.get("kamp_id"))||null==c.errors?null:c.errors.serverError),t.xp6(3),t.Q6J("ngModel",e.smena.naziv)("readonly",e.action_delete)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(_=e.smenaForm.get("naziv"))||null==_.errors?null:_.errors.serverError),t.xp6(5),t.Q6J("matDatepicker",s)("ngModel",e.smena.datum_od)("readonly",e.action_delete)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("for",s),t.xp6(3),t.Q6J("ngIf",null==(C=e.smenaForm.get("datum_od"))||null==C.errors?null:C.errors.serverError),t.xp6(5),t.Q6J("matDatepicker",m)("ngModel",e.smena.datum_do)("readonly",e.action_delete)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("for",m),t.xp6(3),t.Q6J("ngIf",null==(b=e.smenaForm.get("datum_do"))||null==b.errors?null:b.errors.serverError),t.xp6(4),t.Q6J("ngModel",e.smena.broj_prijava)("readonly",e.action_delete)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(U=e.smenaForm.get("broj_prijava"))||null==U.errors?null:U.errors.serverError),t.xp6(3),t.Q6J("ngModel",e.smena.cena)("readonly",e.action_delete)("errorStateMatcher",e.matcher),t.xp6(3),t.Q6J("ngIf",null==(E=e.smenaForm.get("cena"))||null==E.errors?null:E.errors.serverError)}},directives:[v.O5,h._Y,h.JL,h.sg,k.KE,x.Nt,h.Fj,h.JJ,h.u,k.TO,k.hX,M.hl,M.nW,k.R9,M.Mq,h.wV,J.Hw,O.lW],styles:[""]}),n}(),K=o(52347);function X(n,r){if(1&n&&(t.TgZ(0,"li",13)(1,"a",14)(2,"i",15),t._uU(3,"bug_report"),t.qZA(),t._uU(4),t._UZ(5,"div",16),t.qZA()()),2&n){var a=r.$implicit;t.xp6(1),t.Q6J("routerLink",a.path),t.xp6(3),t.hij(" ",a.title," ")}}var H=[{path:"ucesnici",title:"U\u010desnici",icon:"work_history",class:""},{path:"dodatni-paketi",title:"Dodatni paketi",icon:"work_history",class:""},{path:"oprema",title:"Oprema",icon:"manage_accounts",class:""},{path:"prevoz",title:"Prevoz",icon:"manage_accounts",class:""},{path:"hotel",title:"Hotel",icon:"manage_accounts",class:""},{path:"uplate",title:"uplate",icon:"work_history",class:""}],V=[{path:"",pathMatch:"full",component:function(){var n=function(){function r(){(0,g.Z)(this,r)}return(0,f.Z)(r,[{key:"ngOnInit",value:function(){}}]),r}();return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-index"]],decls:11,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Smene "),t.qZA(),t._UZ(8,"p",7),t.qZA(),t.TgZ(9,"div",8),t._UZ(10,"app-smena-datatable"),t.qZA()()()()()())},directives:[K.S],styles:[""]}),n}()},{path:"unos",pathMatch:"full",component:T},{path:":smenaId",component:function(){var n=function(){function r(a,e){(0,g.Z)(this,r),this.activatedRoute=a,this.smenaService=e,this.menuItems=H}return(0,f.Z)(r,[{key:"ngOnInit",value:function(){var s,e=this;this.smenaService.find(null===(s=this.activatedRoute.snapshot.params)||void 0===s?void 0:s.smenaId).subscribe(function(m){return e.smena=m})}}]),r}();return n.\u0275fac=function(a){return new(a||n)(t.Y36(i.gz),t.Y36(A.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-smena-layout"]],decls:16,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-info"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],[1,"nav-tabs-title"],["data-tabs","tabs",1,"nav","nav-tabs"],["class","nav-item",4,"ngFor","ngForOf"],[1,"card-body"],[1,"nav-item"],["mat-button","","routerLinkActive","active","data-toggle","tab",1,"nav-link",3,"routerLink"],[1,"material-icons"],[1,"ripple-container"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),t._UZ(11,"span",9),t.TgZ(12,"ul",10),t.YNc(13,X,6,2,"li",11),t.qZA()()()(),t.TgZ(14,"div",12),t._UZ(15,"router-outlet"),t.qZA()()()()()()),2&a&&(t.xp6(5),t.AsE("",null==e.smena||null==e.smena.kamp?null:e.smena.kamp.naziv," - ",null==e.smena?null:e.smena.naziv,""),t.xp6(8),t.Q6J("ngForOf",e.menuItems))},directives:[v.sg,O.zs,i.yS,i.Od,i.lC],styles:[""]}),n}(),children:[{path:"",redirectTo:"ucesnici",pathMatch:"full"},{path:"ucesnici",component:p.o},{path:"hotel",component:y.a},{path:"prevoz",component:d.f},{path:"oprema",component:F.W},{path:"uplate",component:l.R},{path:"dodatni-paketi",component:l.R}]},{path:":smenaId/izmena",component:T},{path:":smenaId/brisanje",component:T}],$=function(){var n=(0,f.Z)(function r(){(0,g.Z)(this,r)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.Bz.forChild(V)],i.Bz]}),n}(),w=o(56851),tt=function(){var n=(0,f.Z)(function r(){(0,g.Z)(this,r)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[v.ez,w.q,$,h.u5,h.UX]]}),n}()},72808:function(I,Z,o){o.d(Z,{n:function(){return F}});var f=o(15671),g=o(43144),v=o(40520),i=o(92340),y=o(91891),F=function(){var d=function(){function p(l){(0,f.Z)(this,p),this.httpClient=l,this.httpOptions={headers:new v.WM({"Content-Type":"application/json"})}}return(0,g.Z)(p,[{key:"datatable",value:function(u){return this.httpClient.post("".concat(i.N.api_url,"/datatable/smena"),u)}},{key:"all",value:function(){return this.httpClient.get("".concat(i.N.api_url,"/smena"))}},{key:"find",value:function(u){return this.httpClient.get("".concat(i.N.api_url,"/smena/").concat(u))}},{key:"store",value:function(u){return this.httpClient.post("".concat(i.N.api_url,"/smena"),JSON.stringify(u),this.httpOptions)}},{key:"update",value:function(u,S){return this.httpClient.put("".concat(i.N.api_url,"/smena/").concat(u),JSON.stringify(S),this.httpOptions)}},{key:"delete",value:function(u){return this.httpClient.delete("".concat(i.N.api_url,"/smena/").concat(u),this.httpOptions)}},{key:"ucesnici",value:function(u){return this.httpClient.get("".concat(i.N.api_url,"/smena/").concat(u,"/ucesnici"))}}]),p}();return d.\u0275fac=function(l){return new(l||d)(y.LFG(v.eN))},d.\u0275prov=y.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d}()},65265:function(I,Z,o){o.d(Z,{M:function(){return F}});var f=o(15671),g=o(43144),v=o(40520),i=o(92340),y=o(91891),F=function(){var d=function(){function p(l){(0,f.Z)(this,p),this.httpClient=l,this.httpOptions={headers:new v.WM({"Content-Type":"application/json"})}}return(0,g.Z)(p,[{key:"datatable",value:function(u){return this.httpClient.post("".concat(i.N.api_url,"/datatable/ucesnik"),u)}},{key:"all",value:function(){return this.httpClient.get("".concat(i.N.api_url,"/ucesnik"))}},{key:"find",value:function(u){return this.httpClient.get("".concat(i.N.api_url,"/ucesnik/").concat(u))}},{key:"store",value:function(u){return this.httpClient.post("".concat(i.N.api_url,"/ucesnik"),JSON.stringify(u),this.httpOptions)}},{key:"update",value:function(u,S){return this.httpClient.put("".concat(i.N.api_url,"/ucesnik/id"),JSON.stringify(S),this.httpOptions)}},{key:"delete",value:function(u){return this.httpClient.delete("".concat(i.N.api_url,"/ucesnik/").concat(u),this.httpOptions)}}]),p}();return d.\u0275fac=function(l){return new(l||d)(y.LFG(v.eN))},d.\u0275prov=y.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d}()}}]);