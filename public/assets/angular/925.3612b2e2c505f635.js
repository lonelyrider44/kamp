"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[925],{55925:function(F,h,n){n.r(h),n.d(h,{AuthModule:function(){return U}});var m=n(43144),c=n(15671),f=n(69808),s=n(74202),p=n(59030),v=n(80877),t=n(91891),u=n(93075),g=n(50072),d=n(67322),y=n(77531),Z=n(47423);function b(r,i){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){var e,o=t.oxw();t.xp6(1),t.hij(" ",null==(e=o.loginForm.get("email"))||null==e.errors?null:e.errors.serverError," ")}}var A=[{path:"login",component:function(){var r=function(){function i(o,e,a,l,S){(0,c.Z)(this,i),this.fb=o,this.router=e,this.activatedRoute=a,this.authService=l,this.spinner=S,this.previousUrl=null,this.currentUrl=null,this.matcher=new p.n,this.loginForm=this.fb.group({email:[""],password:[""]})}return(0,m.Z)(i,[{key:"ngOnInit",value:function(){var e=this;this.spinner.show(),this.authService.signin().subscribe(function(a){e.authService.handleData(a);var l=e.authService.getUser();e.redirect_after_login(l),e.spinner.hide()},function(a){e.spinner.hide()})}},{key:"submitForm",value:function(){var e=this;this.authService.signin(this.loginForm.value).subscribe(function(a){e.authService.handleData(a);var l=e.authService.getUser();e.redirect_after_login(l)},function(a){})}},{key:"redirect_after_login",value:function(e){console.log(e.user_type),"admin"==e.user_type&&this.router.navigate(["/admin/kamp"]),"roditelj"==e.user_type&&this.router.navigate(["/roditelj"]),"ucesnik"==e.user_type&&this.router.navigate(["/ucesnik"]),"trener"==e.user_type&&this.router.navigate(["/trener"]),"lekar"==e.user_type&&this.router.navigate(["/lekar"]),"oprema"==e.user_type&&this.router.navigate(["/oprema"]),"prevoznik"==e.user_type&&this.router.navigate(["/prevoznik"]),"hotel"==e.user_type&&this.router.navigate(["/hotel"])}}]),i}();return r.\u0275fac=function(o){return new(o||r)(t.Y36(u.qu),t.Y36(s.F0),t.Y36(s.gz),t.Y36(v.e),t.Y36(g.t2))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:33,vars:4,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"bg-gray-200"],[1,"main-content","mt-0"],[1,"page-header","align-items-start","min-vh-100",2,"background-image","url('https://kampvanjegrbica.rs/wp-content/uploads/2021/10/1633803130050-1.jpg')","background-size","cover"],[1,"mask","bg-gradient-dark","opacity-6"],[1,"container","my-auto"],[1,"row"],[1,"col-lg-6","col-md-8","col-12","mx-auto"],[1,"card","z-index-0","fadeIn3","fadeInBottom"],[1,"card-header"],[1,"card-body"],["novalidate","",3,"formGroup","ngSubmit","keyup.enter"],[1,"col-md-12"],[1,"example-full-width"],["matInput","","placeholder","Elektronska po\u0161ta","formControlName","email",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","type","password","placeholder","\u0160ifra","formControlName","password",3,"errorStateMatcher"],[1,"form-check","form-switch","d-flex","align-items-center","mb-3"],["type","checkbox","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label","mb-0","ms-2"],["mat-raised-button","","type","button",1,"btn","bg-gradient-primary","w-100",3,"click"],[1,"clearfix"],[1,"mt-1","text-sm","text-center"],["href","../pages/sign-up.html",1,"text-primary","text-gradient","font-weight-bold"]],template:function(o,e){var a;1&o&&(t.TgZ(0,"ngx-spinner",0)(1,"p",1),t._uU(2,"Loading..."),t.qZA()(),t.TgZ(3,"div",2)(4,"main",3)(5,"div",4),t._UZ(6,"span",5),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),t._UZ(11,"div",10),t.TgZ(12,"div",11)(13,"form",12),t.NdJ("ngSubmit",function(){return e.submitForm()})("keyup.enter",function(){return e.submitForm()}),t.TgZ(14,"div",7)(15,"div",13)(16,"mat-form-field",14),t._UZ(17,"input",15),t.YNc(18,b,2,1,"mat-error",16),t.qZA()(),t.TgZ(19,"div",13)(20,"mat-form-field",14),t._UZ(21,"input",17),t.qZA()()(),t.TgZ(22,"div",18),t._UZ(23,"input",19),t.TgZ(24,"label",20),t._uU(25,"Zapamti me"),t.qZA()(),t.TgZ(26,"button",21),t.NdJ("click",function(){return e.submitForm()}),t._uU(27,"Prijavi se"),t.qZA(),t._UZ(28,"div",22),t.TgZ(29,"p",23),t._uU(30," Prvi put se prijavljujete za kamp? "),t.TgZ(31,"a",24),t._uU(32,"Napravi nalog"),t.qZA()()()()()()()()()()()),2&o&&(t.xp6(13),t.Q6J("formGroup",e.loginForm),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(a=e.loginForm.get("email"))||null==a.errors?null:a.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher))},directives:[g.Ro,u._Y,u.JL,u.sg,d.KE,y.Nt,u.Fj,u.JJ,u.u,f.O5,d.TO,Z.lW],styles:[""]}),r}()}],C=function(){var r=(0,m.Z)(function i(){(0,c.Z)(this,i)});return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[s.Bz.forChild(A)],s.Bz]}),r}(),T=n(56851),U=function(){var r=(0,m.Z)(function i(){(0,c.Z)(this,i)});return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[f.ez,C,T.q,u.u5,u.UX,g.ef]]}),r}()}}]);