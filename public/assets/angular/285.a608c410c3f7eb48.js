"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[285],{94285:function(Q,Z,s){s.r(Z),s.d(Z,{IzvestajModule:function(){return B}});var m=s(43144),p=s(15671),f=s(69808),c=s(74202),t=s(91891),I=function(){var n=function(){function i(){(0,p.Z)(this,i)}return(0,m.Z)(i,[{key:"ngOnInit",value:function(){}}]),i}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-details"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"details works!"),t.qZA())},styles:[""]}),n}(),k=s(59030),b=s(40520),v=s(92340),y=function(){var n=function(){function i(e){(0,p.Z)(this,i),this.httpClient=e,this.httpOptions={headers:new b.WM({"Content-Type":"application/json"})}}return(0,m.Z)(i,[{key:"datatable",value:function(a){return this.httpClient.post("".concat(v.N.api_url,"/datatable/izvestaj"),a)}},{key:"all",value:function(){return this.httpClient.get("".concat(v.N.api_url,"/izvestaj"))}},{key:"find",value:function(a){return this.httpClient.get("".concat(v.N.api_url,"/izvestaj/").concat(a))}},{key:"store",value:function(a){return this.httpClient.post("".concat(v.N.api_url,"/izvestaj"),JSON.stringify(a),this.httpOptions)}},{key:"update",value:function(a,o){return this.httpClient.put("".concat(v.N.api_url,"/izvestaj/id"),JSON.stringify(o),this.httpOptions)}},{key:"delete",value:function(a){return this.httpClient.delete("".concat(v.N.api_url,"/izvestaj/").concat(a),this.httpOptions)}}]),i}();return n.\u0275fac=function(e){return new(e||n)(t.LFG(b.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),u=s(93075),j=s(67322),_=s(77531),z=s(47423),C=function(){var n=function(){function i(e,a,o,r,l){(0,p.Z)(this,i),this.fb=e,this.router=a,this.activatedRoute=o,this.izvestajService=r,this._location=l,this.izvestaj={id:-1},this.action="",this.isReadOnly=!1,this.matcher=new k.n,this.izvestajForm=this.fb.group({})}return(0,m.Z)(i,[{key:"ngOnInit",value:function(){var a=this;this.action=this.activatedRoute.snapshot.url[1].path,this.isReadOnly="delete"==this.action,this.activatedRoute.snapshot.url[2]&&this.izvestajService.find(this.activatedRoute.snapshot.url[2].path).subscribe(function(o){a.izvestaj=o})}},{key:"store",value:function(){var a=this;"unos"==this.action&&this.izvestajService.store(this.izvestajForm.value).subscribe({next:function(r){a.router.navigateByUrl("/domeni/home")},error:function(r){a.submitFormFailed(a.izvestajForm,r)}})}},{key:"update",value:function(){var a=this;"izmena"==this.action&&this.izvestajService.update(this.izvestaj.id,this.izvestajForm.value).subscribe({next:function(r){a.router.navigateByUrl("/domeni/home")},error:function(r){a.submitFormFailed(a.izvestajForm,r)}})}},{key:"delete",value:function(){var a=this;"brisanje"==this.action&&this.izvestajService.delete(this.izvestaj.id).subscribe({next:function(r){a.router.navigateByUrl("/domeni/home")},error:function(r){a.submitFormFailed(a.izvestajForm,r)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(a,o){422===o.status&&Object.keys(o.error.errors).forEach(function(r){var l=a.get(r);l&&l.setErrors({serverError:o.error.errors[r]})})}},{key:"goBack",value:function(){this._location.back()}}]),i}();return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.qu),t.Y36(c.F0),t.Y36(c.gz),t.Y36(y),t.Y36(f.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-form"]],decls:66,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-5"],[1,"example-full-width"],["matInput","","placeholder","Company (disabled)","disabled",""],[1,"col-md-3"],["matInput","","placeholder","Username"],[1,"col-md-4"],["matInput","","placeholder","Email address","type","email"],[1,"col-md-6"],["matInput","","placeholder","Fist Name","type","text"],["matInput","","placeholder","Last Name","type","text"],[1,"col-md-12"],["matInput","","placeholder","Adress","type","text"],["matInput","","placeholder","City","type","text"],["matInput","","placeholder","Country","type","text"],["matInput","","placeholder","Postal Code","type","text"],["matInput","","placeholder","Lamborghini Mercy, Your chick she so thirsty, I'm in that two seat Lambo."],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"],[1,"card","card-profile"],[1,"card-avatar"],["href","javascript:void(0)"],["src","./assets/img/faces/marc.jpg",1,"img"],[1,"card-category","text-gray"],[1,"card-description"],["href","javascript:void(0)",1,"btn","btn-danger","btn-round"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Izve\u0161taj"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Complete your profile"),t.qZA()(),t.TgZ(10,"div",8)(11,"form")(12,"div",2)(13,"div",9)(14,"mat-form-field",10),t._UZ(15,"input",11),t.qZA()(),t.TgZ(16,"div",12)(17,"mat-form-field",10),t._UZ(18,"input",13),t.qZA()(),t.TgZ(19,"div",14)(20,"mat-form-field",10),t._UZ(21,"input",15),t.qZA()()(),t.TgZ(22,"div",2)(23,"div",16)(24,"mat-form-field",10),t._UZ(25,"input",17),t.qZA()(),t.TgZ(26,"div",16)(27,"mat-form-field",10),t._UZ(28,"input",18),t.qZA()()(),t.TgZ(29,"div",2)(30,"div",19)(31,"mat-form-field",10),t._UZ(32,"input",20),t.qZA()()(),t.TgZ(33,"div",2)(34,"div",14)(35,"mat-form-field",10),t._UZ(36,"input",21),t.qZA()(),t.TgZ(37,"div",14)(38,"mat-form-field",10),t._UZ(39,"input",22),t.qZA()(),t.TgZ(40,"div",14)(41,"mat-form-field",10),t._UZ(42,"input",23),t.qZA()()(),t.TgZ(43,"div",2)(44,"div",19)(45,"label"),t._uU(46,"About Me"),t.qZA(),t.TgZ(47,"mat-form-field",10),t._UZ(48,"textarea",24),t.qZA()()(),t.TgZ(49,"button",25),t._uU(50,"Update Profile"),t.qZA(),t._UZ(51,"div",26),t.qZA()()()(),t.TgZ(52,"div",14)(53,"div",27)(54,"div",28)(55,"a",29),t._UZ(56,"img",30),t.qZA()(),t.TgZ(57,"div",8)(58,"h6",31),t._uU(59,"CEO / Co-Founder"),t.qZA(),t.TgZ(60,"h4",6),t._uU(61,"Alec Thompson"),t.qZA(),t.TgZ(62,"p",32),t._uU(63," Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens\u2019 bed design but the back is... "),t.qZA(),t.TgZ(64,"a",33),t._uU(65,"Follow"),t.qZA()()()()()()())},directives:[u._Y,u.JL,u.F,j.KE,_.Nt,z.lW],styles:[""]}),n}(),T=s(45687),F=s(37315),U=s(25245),A=s(74107),x=s(90508),M=["dataTableIzvestaj"],O=function(){var n=function(){function i(e,a,o){(0,p.Z)(this,i),this.router=e,this.activatedRoute=a,this.izvestajService=o}return(0,m.Z)(i,[{key:"ngOnInit",value:function(){var a,o;this.kamp_id=null===(a=this.activatedRoute.snapshot.parent.params)||void 0===a?void 0:a.kampId,this.smena_id=null===(o=this.activatedRoute.snapshot.parent.params)||void 0===o?void 0:o.smenaId}},{key:"ngOnChanges",value:function(a){this.dataTable&&this.dataTable.DataTable().ajax.reload()}},{key:"ngAfterViewInit",value:function(){var o,a=this,r=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(d,g){d.kamp_id=a.kamp_id,d.smena_id=a.smena_id,d.trener_id=a.trener_id,a.izvestajService.datatable(d).subscribe(function(h){g({recordsTotal:h.recordsTotal,recordsFiltered:h.recordsFiltered,data:h.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(d,g,h,E){r.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"U\u010desnik",data:"ucesnik",name:"ucesnik"},{title:"Roditelj",data:"roditelj",name:"roditelj"},{title:"Datum ro\u0111enja",data:"datum_rodjenja"},{title:"Smene",data:"smene"},{title:"Oprema",data:"oprema"},{title:"Broj kampova",data:"broj_kampova",name:"broj_kampova",className:"dt-center"},{title:"Broj smena",data:"broj_smena",className:"dt-center"},{title:"Pregled obavljen",data:"pregled_obavljen",className:"dt-center"},{title:"Depozit",data:"depozit",className:"dt-right"},{title:"Ukupno za uplatu",data:"ukupno",className:"dt-right"},{title:"Preostalo",data:"preostalo",className:"dt-right"},{title:"Akcije",data:"action",name:"action",width:"10%",className:"dt-center"}],columnDefs:[{targets:[5,6],visible:!(null===(o=r.activatedRoute.snapshot.parent.params)||void 0===o?void 0:o.kampId)},{targets:[7],render:function(d,g,h,E){return d?"DA":"NE"}}],drawCallback:function(){$(".btnShowUcesnik").on("click",function(d){r.router.navigateByUrl("/admin/ucesnik/".concat($(this).data("id")))}),$(".btnEditUcesnik").on("click",function(d){r.router.navigateByUrl("/admin/ucesnik/".concat($(this).data("id"),"/izmena"))}),$(".btnDeleteUcesnik").on("click",function(d){r.router.navigateByUrl("/admin/ucesnik/".concat($(this).data("id"),"/brisanje"))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),i}();return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-izvestaj-datatable"]],viewQuery:function(e,a){var o;1&e&&t.Gf(M,5),2&e&&t.iGM(o=t.CRH())&&(a.table=o.first)},inputs:{kamp_id:"kamp_id",smena_id:"smena_id",trener_id:"trener_id"},features:[t.TTD],decls:3,vars:0,consts:[[1,"table-responsive"],["id","datatable_izvestaj",1,"table","table-bordered","table-striped","table-sm"],["dataTableIzvestaj",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"table",1,2),t.qZA())},styles:[""]}),n}();function N(n,i){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){var e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.prezime," ",e.ime,"")}}function D(n,i){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){var e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.naziv)}}function S(n,i){if(1&n&&(t.TgZ(0,"mat-option",18),t._uU(1),t.qZA()),2&n){var e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.naziv)}}var Y=[{path:"",pathMatch:"full",component:function(){var n=function(){function i(e,a,o){var r=this;(0,p.Z)(this,i),this.router=e,this.kampService=a,this.trenerService=o,this.kampovi=[],this.smene=[],this.treneri=[],this.kamp_id=null,this.smena_id=null,this.trener_id=null,this.kampService.all().subscribe(function(l){r.kampovi=l}),this.trenerService.all().subscribe(function(l){return r.treneri=l})}return(0,m.Z)(i,[{key:"kamp_selected",value:function(a){var o=this;this.smene=this.kampovi.find(function(r){return r.id==o.kamp_id}).smene}},{key:"ngOnInit",value:function(){}}]),i}();return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0),t.Y36(T.f),t.Y36(F.G))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-index"]],decls:26,vars:9,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"],[1,"pull-right","col-md-3"],["placeholder","Izaberite trenera",3,"ngModel","ngModelChange"],["smena",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Izaberite smenu",3,"ngModel","ngModelChange"],["placeholder","Izaberite kamp",3,"ngModel","ngModelChange","selectionChange"],["kamp",""],[3,"kamp_id","smena_id","trener_id"],[3,"value"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Izve\u0161taji "),t.TgZ(8,"button",7)(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"p",8),t.qZA(),t.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"mat-select",11,12),t.NdJ("ngModelChange",function(r){return a.trener_id=r}),t.YNc(16,N,2,3,"mat-option",13),t.qZA()(),t.TgZ(17,"mat-form-field",10)(18,"mat-select",14,12),t.NdJ("ngModelChange",function(r){return a.smena_id=r}),t.YNc(20,D,2,2,"mat-option",13),t.qZA()(),t.TgZ(21,"mat-form-field",10)(22,"mat-select",15,16),t.NdJ("ngModelChange",function(r){return a.kamp_id=r})("selectionChange",function(r){return a.kamp_selected(r)}),t.YNc(24,S,2,2,"mat-option",13),t.qZA()(),t._UZ(25,"app-izvestaj-datatable",17),t.qZA()()()()()()),2&e&&(t.xp6(14),t.Q6J("ngModel",a.trener_id),t.xp6(2),t.Q6J("ngForOf",a.treneri),t.xp6(2),t.Q6J("ngModel",a.smena_id),t.xp6(2),t.Q6J("ngForOf",a.smene),t.xp6(2),t.Q6J("ngModel",a.kamp_id),t.xp6(2),t.Q6J("ngForOf",a.kampovi),t.xp6(1),t.Q6J("kamp_id",a.kamp_id)("smena_id",a.smena_id)("trener_id",a.trener_id))},directives:[z.lW,c.rH,U.Hw,j.KE,A.gD,u.JJ,u.On,f.sg,x.ey,O],styles:[""]}),n}()},{path:"unos",pathMatch:"full",component:C},{path:":izvestajId",component:I},{path:":izvestajId/izmena",component:C}],q=function(){var n=(0,m.Z)(function i(){(0,p.Z)(this,i)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.Bz.forChild(Y)],c.Bz]}),n}(),R=s(56851),B=function(){var n=(0,m.Z)(function i(){(0,p.Z)(this,i)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,q,R.q,u.u5,u.UX]]}),n}()}}]);