"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[592],{52246:function(k,_,r){r.d(_,{j:function(){return h}});var m=r(15671),p=r(43144),v=r(899),e=r(91891),u=r(74202),b=["dataTablePrijava"],h=function(){var c=function(){function o(n,a,t){(0,m.Z)(this,o),this.router=n,this.activatedRoute=a,this.prijavaService=t}return(0,p.Z)(o,[{key:"ngOnInit",value:function(){var a,t,s;this.kamp_id=null===(a=this.activatedRoute.snapshot.parent.params)||void 0===a?void 0:a.kampId,this.smena_id=null===(t=this.activatedRoute.snapshot.parent.params)||void 0===t?void 0:t.smenaId,this.ucesnik_id=null===(s=this.activatedRoute.snapshot.parent.params)||void 0===s?void 0:s.ucesnikId}},{key:"ngOnChanges",value:function(a){this.dataTable&&this.dataTable.DataTable().ajax.reload()}},{key:"ngAfterViewInit",value:function(){var a=this,t=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(i,d){i.kamp_id=a.kamp_id,i.smena_id=a.smena_id,i.ucesnik_id=a.ucesnik_id,a.prijavaService.datatable(i).subscribe(function(l){d({recordsTotal:l.recordsTotal,recordsFiltered:l.recordsFiltered,data:l.data,kamp_id:l.kamp_id,smena_id:l.smena_id})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(i,d,l,f){t.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"U\u010desnik",data:"ucesnik",name:"ucesnik"},{title:"Kamp",data:"kamp",name:"kamps.naziv"},{title:"Smena",data:"smena",name:"smenas.naziv"},{title:"Ukupno smena",data:"ukupno_smena",className:"dt-right"},{title:"Akcije",data:"action",name:"action",width:"120px",className:"dt-center"}],initComplete:function(i,d){t.dataTable.DataTable().columns(1).visible(null==d.kamp_id)},drawCallback:function(){$(".btnShowPrijava").on("click",function(i){t.router.navigateByUrl("/admin/prijava/".concat($(this).data("id")))}),$(".btnEditPrijava").on("click",function(i){t.router.navigateByUrl("/admin/prijava/".concat($(this).data("id"),"/izmena"))}),$(".btnRemovePrijava").on("click",function(i){t.router.navigateByUrl("/admin/prijava/".concat($(this).data("id"),"/brisanje"))})},language:{url:"//cdn.datatables.net/plug-ins/1.12.1/i18n/sr-SP.json"}}).buttons().container().appendTo("#datatable_prijava_wrapper .col-md-6:eq(0)")}}]),o}();return c.\u0275fac=function(n){return new(n||c)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(v.$))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-prijava-datatable"]],viewQuery:function(n,a){var t;1&n&&e.Gf(b,5),2&n&&e.iGM(t=e.CRH())&&(a.table=t.first)},inputs:{kamp_id:"kamp_id",smena_id:"smena_id",ucesnik_id:"ucesnik_id"},features:[e.TTD],decls:3,vars:0,consts:[[1,"table-responsive"],["id","datatable_prijava",1,"table","table-bordered","table-striped","table-sm"],["dataTablePrijava",""]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"table",1,2),e.qZA())},styles:[""]}),c}()}}]);