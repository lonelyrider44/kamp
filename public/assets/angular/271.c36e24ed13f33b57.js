"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[271],{31271:function(U,g,i){i.r(g),i.d(g,{UplataModule:function(){return j}});var h=i(43144),v=i(15671),f=i(69808),s=i(74202),t=i(91891),C=function(){var a=function(){function n(){(0,v.Z)(this,n)}return(0,h.Z)(n,[{key:"ngOnInit",value:function(){}}]),n}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-details"]],decls:2,vars:0,template:function(r,e){1&r&&(t.TgZ(0,"p"),t._uU(1,"details works!"),t.qZA())},styles:[""]}),a}(),m=i(33812),u=i(93075),d=i(67322),p=i(77531),b=i(47423);function T(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){var e,r=t.oxw();t.xp6(1),t.hij(" ",null==(e=r.uplataForm.get("roditelj_id"))||null==e.errors?null:e.errors.serverError," ")}}function M(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){var e,r=t.oxw();t.xp6(1),t.hij(" ",null==(e=r.uplataForm.get("dete_id"))||null==e.errors?null:e.errors.serverError," ")}}function x(a,n){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){var e,r=t.oxw();t.xp6(1),t.hij(" ",null==(e=r.uplataForm.get("iznos"))||null==e.errors?null:e.errors.serverError," ")}}var Z=function(){var a=function(){function n(r,e,o,l,c){(0,v.Z)(this,n),this.fb=r,this.router=e,this.activatedRoute=o,this.uplataService=l,this._location=c,this.uplata={id:-1},this.action="",this.isReadOnly=!1,this.matcher=new E,this.uplataForm=this.fb.group({roditelj_id:[""],dete_id:[""],iznos:[""]})}return(0,h.Z)(n,[{key:"ngOnInit",value:function(){var e=this;this.action=this.activatedRoute.snapshot.url[1].path,this.isReadOnly="delete"==this.action,this.activatedRoute.snapshot.url[2]&&this.uplataService.find(this.activatedRoute.snapshot.url[2].path).subscribe(function(o){e.uplata=o})}},{key:"store",value:function(){var e=this;"unos"==this.action&&this.uplataService.store(this.uplataForm.value).subscribe({next:function(l){e.router.navigateByUrl("/domeni/home")},error:function(l){e.submitFormFailed(e.uplataForm,l)}})}},{key:"update",value:function(){var e=this;"izmena"==this.action&&this.uplataService.update(this.uplata.id,this.uplataForm.value).subscribe({next:function(l){e.router.navigateByUrl("/domeni/home")},error:function(l){e.submitFormFailed(e.uplataForm,l)}})}},{key:"delete",value:function(){var e=this;"brisanje"==this.action&&this.uplataService.delete(this.uplata.id).subscribe({next:function(l){e.router.navigateByUrl("/domeni/home")},error:function(l){e.submitFormFailed(e.uplataForm,l)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(e,o){422===o.status&&Object.keys(o.error.errors).forEach(function(l){var c=e.get(l);c&&c.setErrors({serverError:o.error.errors[l]})})}},{key:"goBack",value:function(){this._location.back()}}]),n}();return a.\u0275fac=function(r){return new(r||a)(t.Y36(u.qu),t.Y36(s.F0),t.Y36(s.gz),t.Y36(m.J),t.Y36(f.Ye))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-form"]],decls:28,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","Roditelj","formControlName","roditelj_id",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Dete","formControlName","dete_id",3,"errorStateMatcher"],["matInput","","placeholder","Iznos","formControlName","iznos",3,"errorStateMatcher"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"]],template:function(r,e){var o,l,c;1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Uplata"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Complete your profile"),t.qZA()(),t.TgZ(10,"div",8)(11,"form")(12,"div",2)(13,"div",9)(14,"mat-form-field",10),t._UZ(15,"input",11),t.YNc(16,T,2,1,"mat-error",12),t.qZA()(),t.TgZ(17,"div",9)(18,"mat-form-field",10),t._UZ(19,"input",13),t.YNc(20,M,2,1,"mat-error",12),t.qZA()(),t.TgZ(21,"div",9)(22,"mat-form-field",10),t._UZ(23,"input",14),t.YNc(24,x,2,1,"mat-error",12),t.qZA()()(),t.TgZ(25,"button",15),t._uU(26,"Potvrdi"),t.qZA(),t._UZ(27,"div",16),t.qZA()()()()()()()),2&r&&(t.xp6(15),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(o=e.uplataForm.get("roditelj_id"))||null==o.errors?null:o.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(l=e.uplataForm.get("dete_id"))||null==l.errors?null:l.errors.serverError),t.xp6(3),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",null==(c=e.uplataForm.get("iznos"))||null==c.errors?null:c.errors.serverError))},directives:[u._Y,u.JL,u.F,d.KE,p.Nt,u.Fj,u.JJ,u.u,f.O5,d.TO,b.lW],styles:[""]}),a}(),E=function(){function a(){(0,v.Z)(this,a)}return(0,h.Z)(a,[{key:"isErrorState",value:function(r,e){return r&&r.invalid}}]),a}(),I=i(25245),k=["dataTableUplata"],S=[{path:"",pathMatch:"full",component:function(){var a=function(){function n(r,e){(0,v.Z)(this,n),this.router=r,this.uplataService=e}return(0,h.Z)(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this,o=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(c,F){e.uplataService.datatable(c).subscribe(function(y){F({recordsTotal:y.recordsTotal,recordsFiltered:y.recordsFiltered,data:y.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(c,F,y,D){o.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"ID",data:"id",name:"id"},{title:"Kamp",data:"kamp",name:"kamps.naziv"},{title:"U\u010desnik",data:"ucesnik",name:"ucesniks.puno_ime"},{title:"Datum",data:"datum",name:"datum"},{title:"Iznos",data:"iznos",name:"iznos"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditKorisnik").on("click",function(c){o.router.navigateByUrl("/uplata/update/".concat($(this).data("id")))}),$(".btnRemoveKorisnik").on("click",function(c){o.router.navigateByUrl("/uplata/delete/".concat($(this).data("id")))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),n}();return a.\u0275fac=function(r){return new(r||a)(t.Y36(s.F0),t.Y36(m.J))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-index"]],viewQuery:function(r,e){var o;1&r&&t.Gf(k,5),2&r&&t.iGM(o=t.CRH())&&(e.table=o.first)},decls:16,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","datatable_uplata",1,"table","table-bordered","table-striped","table-sm"],["dataTableUplata",""]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Uplata "),t.TgZ(8,"button",7)(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"p",8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10),t._UZ(14,"table",11,12),t.qZA()()()()()()())},directives:[b.lW,s.rH,I.Hw],styles:[""]}),a}()},{path:"unos",pathMatch:"full",component:Z},{path:":uplataId",component:C},{path:":uplataId/izmena",component:Z}],_=function(){var a=(0,h.Z)(function n(){(0,v.Z)(this,n)});return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[s.Bz.forChild(S)],s.Bz]}),a}(),A=i(62753),j=function(){var a=(0,h.Z)(function n(){(0,v.Z)(this,n)});return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[f.ez,_,A.q,u.u5,u.UX]]}),a}()},33812:function(U,g,i){i.d(g,{J:function(){return C}});var h=i(15671),v=i(43144),f=i(40520),s=i(92340),t=i(91891),C=function(){var m=function(){function u(d){(0,h.Z)(this,u),this.httpClient=d,this.httpOptions={headers:new f.WM({"Content-Type":"application/json"})}}return(0,v.Z)(u,[{key:"datatable",value:function(p){return this.httpClient.post("".concat(s.N.api_url,"/datatable/uplata"),p)}},{key:"all",value:function(){return this.httpClient.get("".concat(s.N.api_url,"/uplata"))}},{key:"find",value:function(p){return this.httpClient.get("".concat(s.N.api_url,"/uplata/").concat(p))}},{key:"store",value:function(p){return this.httpClient.post("".concat(s.N.api_url,"/uplata"),JSON.stringify(p),this.httpOptions)}},{key:"update",value:function(p,b){return this.httpClient.put("".concat(s.N.api_url,"/uplata/id"),JSON.stringify(b),this.httpOptions)}},{key:"delete",value:function(p){return this.httpClient.delete("".concat(s.N.api_url,"/uplata/").concat(p),this.httpOptions)}}]),u}();return m.\u0275fac=function(d){return new(d||m)(t.LFG(f.eN))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m}()}}]);