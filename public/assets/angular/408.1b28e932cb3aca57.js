"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[408],{3408:function(B,Z,l){l.r(Z),l.d(Z,{OpremaModule:function(){return D}});var m=l(3144),d=l(5671),g=l(9808),p=l(2252),r=l(1891),x=function(){var t=function(){function a(){(0,d.Z)(this,a)}return(0,m.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-details"]],decls:2,vars:0,template:function(n,e){1&n&&(r.TgZ(0,"p"),r._uU(1,"details works!"),r.qZA())},styles:[""]}),t}(),b=l(520),h=l(2340),y=function(){var t=function(){function a(n){(0,d.Z)(this,a),this.httpClient=n,this.httpOptions={headers:new b.WM({"Content-Type":"application/json"})}}return(0,m.Z)(a,[{key:"datatable",value:function(e){return this.httpClient.post("".concat(h.N.api_url,"/datatable/hotel"),e)}},{key:"all",value:function(){return this.httpClient.get("".concat(h.N.api_url,"/hotel"))}},{key:"find",value:function(e){return this.httpClient.get("".concat(h.N.api_url,"/hotel/").concat(e))}},{key:"store",value:function(e){return this.httpClient.post("".concat(h.N.api_url,"/hotel"),JSON.stringify(e),this.httpOptions)}},{key:"update",value:function(e,o){return this.httpClient.put("".concat(h.N.api_url,"/hotel/id"),JSON.stringify(o),this.httpOptions)}},{key:"delete",value:function(e){return this.httpClient.delete("".concat(h.N.api_url,"/hotel/").concat(e),this.httpOptions)}}]),a}();return t.\u0275fac=function(n){return new(n||t)(r.LFG(b.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),s=l(3075),F=l(7322),T=l(7531),C=l(7423);function O(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.opremaForm.get("ucesnik_id"))||null==e.errors?null:e.errors.serverError," ")}}function S(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.opremaForm.get("majica"))||null==e.errors?null:e.errors.serverError," ")}}function I(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.opremaForm.get("sorc"))||null==e.errors?null:e.errors.serverError," ")}}function M(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.opremaForm.get("duks"))||null==e.errors?null:e.errors.serverError," ")}}function U(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.opremaForm.get("trenerka"))||null==e.errors?null:e.errors.serverError," ")}}function A(t,a){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){var e,n=r.oxw();r.xp6(1),r.hij(" ",null==(e=n.opremaForm.get("kolicina"))||null==e.errors?null:e.errors.serverError," ")}}var k=function(){var t=function(){function a(n,e,o,i,u){(0,d.Z)(this,a),this.fb=n,this.router=e,this.activatedRoute=o,this.opremaService=i,this._location=u,this.oprema={id:-1},this.action="",this.isReadOnly=!1,this.matcher=new N,this.opremaForm=this.fb.group({})}return(0,m.Z)(a,[{key:"ngOnInit",value:function(){var e=this;this.action=this.activatedRoute.snapshot.url[1].path,this.isReadOnly="delete"==this.action,this.activatedRoute.snapshot.url[2]&&this.opremaService.find(this.activatedRoute.snapshot.url[2].path).subscribe(function(o){e.oprema=o})}},{key:"store",value:function(){var e=this;"unos"==this.action&&this.opremaService.store(this.opremaForm.value).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.opremaForm,i)}})}},{key:"update",value:function(){var e=this;"izmena"==this.action&&this.opremaService.update(this.oprema.id,this.opremaForm.value).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.opremaForm,i)}})}},{key:"delete",value:function(){var e=this;"brisanje"==this.action&&this.opremaService.delete(this.oprema.id).subscribe({next:function(i){e.router.navigateByUrl("/domeni/home")},error:function(i){e.submitFormFailed(e.opremaForm,i)}})}},{key:"submitForm",value:function(){this.store(),this.update(),this.delete()}},{key:"submitFormFailed",value:function(e,o){422===o.status&&Object.keys(o.error.errors).forEach(function(i){var u=e.get(i);u&&u.setErrors({serverError:o.error.errors[i]})})}},{key:"goBack",value:function(){this._location.back()}}]),a}();return t.\u0275fac=function(n){return new(n||t)(r.Y36(s.qu),r.Y36(p.F0),r.Y36(p.gz),r.Y36(y),r.Y36(g.Ye))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-form"]],decls:40,vars:12,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","U\u010desnik","formControlName","ucesnik_id",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","Veli\u010dina majice","formControlName","majica",3,"errorStateMatcher"],["matInput","","placeholder","Veli\u010dina","formControlName","sorc",3,"errorStateMatcher"],["matInput","","placeholder","Veli\u010dina duksa","formControlName","duks",3,"errorStateMatcher"],["matInput","","placeholder","Veli\u010dina trenerke","formControlName","trenerka",3,"errorStateMatcher"],["matInput","","placeholder","Koli\u010dina","formControlName","kolicina",3,"errorStateMatcher"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"]],template:function(n,e){var o,i,u,f,c,v;1&n&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),r._uU(7,"Oprema"),r.qZA(),r.TgZ(8,"p",7),r._uU(9,"Complete your profile"),r.qZA()(),r.TgZ(10,"div",8)(11,"form")(12,"div",2)(13,"div",9)(14,"mat-form-field",10),r._UZ(15,"input",11),r.YNc(16,O,2,1,"mat-error",12),r.qZA()(),r.TgZ(17,"div",9)(18,"mat-form-field",10),r._UZ(19,"input",13),r.YNc(20,S,2,1,"mat-error",12),r.qZA()(),r.TgZ(21,"div",9)(22,"mat-form-field",10),r._UZ(23,"input",14),r.YNc(24,I,2,1,"mat-error",12),r.qZA()(),r.TgZ(25,"div",9)(26,"mat-form-field",10),r._UZ(27,"input",15),r.YNc(28,M,2,1,"mat-error",12),r.qZA()(),r.TgZ(29,"div",9)(30,"mat-form-field",10),r._UZ(31,"input",16),r.YNc(32,U,2,1,"mat-error",12),r.qZA()(),r.TgZ(33,"div",9)(34,"mat-form-field",10),r._UZ(35,"input",17),r.YNc(36,A,2,1,"mat-error",12),r.qZA()()(),r.TgZ(37,"button",18),r._uU(38,"Potvrdi"),r.qZA(),r._UZ(39,"div",19),r.qZA()()()()()()()),2&n&&(r.xp6(15),r.Q6J("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(o=e.opremaForm.get("ucesnik_id"))||null==o.errors?null:o.errors.serverError),r.xp6(3),r.Q6J("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(i=e.opremaForm.get("majica"))||null==i.errors?null:i.errors.serverError),r.xp6(3),r.Q6J("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(u=e.opremaForm.get("sorc"))||null==u.errors?null:u.errors.serverError),r.xp6(3),r.Q6J("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(f=e.opremaForm.get("duks"))||null==f.errors?null:f.errors.serverError),r.xp6(3),r.Q6J("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(c=e.opremaForm.get("trenerka"))||null==c.errors?null:c.errors.serverError),r.xp6(3),r.Q6J("errorStateMatcher",e.matcher),r.xp6(1),r.Q6J("ngIf",null==(v=e.opremaForm.get("kolicina"))||null==v.errors?null:v.errors.serverError))},directives:[s._Y,s.JL,s.F,F.KE,T.Nt,s.Fj,s.JJ,s.u,g.O5,F.TO,C.lW],styles:[""]}),t}(),N=function(){function t(){(0,d.Z)(this,t)}return(0,m.Z)(t,[{key:"isErrorState",value:function(n,e){return n&&n.invalid}}]),t}(),E=l(5245),j=["dataTableOprema"],Y=[{path:"",pathMatch:"full",component:function(){var t=function(){function a(n,e){(0,d.Z)(this,a),this.router=n,this.opremaService=e}return(0,m.Z)(a,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this,o=this;this.dataTable=$(this.table.nativeElement),this.dataTable.DataTable({ajax:function(u,f){e.opremaService.datatable(u).subscribe(function(c){f({recordsTotal:c.recordsTotal,recordsFiltered:c.recordsFiltered,data:c.data})})},responsive:!0,autoWidth:!1,buttons:{buttons:[{text:'<i class="fas fa-plus"></i>',action:function(u,f,c,v){o.router.navigateByUrl("/korisnici/create")},className:"btn btn-primary"}],dom:{button:{className:"btn"}}},columns:[{title:"ID",data:"id",name:"id"},{title:"Naziv",data:"naziv",name:"naziv"},{title:"Godina",data:"godina",name:"godina"},{title:"Lokacija",data:"lokacija_id",name:"lokacija_id"},{title:"Cena",data:"cena",name:"cena"},{title:"Akcije",data:"action",name:"action",width:"10%"}],drawCallback:function(){$(".btnEditKorisnik").on("click",function(u){o.router.navigateByUrl("/korisnici/update/".concat($(u.target).data("id")))}),$(".btnRemoveKorisnik").on("click",function(u){o.router.navigateByUrl("/korisnici/delete/".concat($(u.target).data("id")))})}}).buttons().container().appendTo("#datatable_korisnik_wrapper .col-md-6:eq(0)")}}]),a}();return t.\u0275fac=function(n){return new(n||t)(r.Y36(p.F0),r.Y36(y))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-index"]],viewQuery:function(n,e){var o;1&n&&r.Gf(j,5),2&n&&r.iGM(o=r.CRH())&&(e.table=o.first)},decls:16,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],["mat-mini-fab","","aria-label","Example icon button with a delete icon","routerLink","unos",1,"pull-right"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],["id","datatable_oprema",1,"table","table-bordered","table-striped","table-sm"],["dataTableOprema",""]],template:function(n,e){1&n&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),r._uU(7,"Oprema "),r.TgZ(8,"button",7)(9,"mat-icon"),r._uU(10,"add"),r.qZA()()(),r._UZ(11,"p",8),r.qZA(),r.TgZ(12,"div",9)(13,"div",10),r._UZ(14,"table",11,12),r.qZA()()()()()()())},directives:[C.lW,p.rH,E.Hw],styles:[""]}),t}()},{path:"unos",pathMatch:"full",component:k},{path:":opremaId",component:x},{path:":opremaId/izmena",component:k}],w=function(){var t=(0,m.Z)(function a(){(0,d.Z)(this,a)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[p.Bz.forChild(Y)],p.Bz]}),t}(),Q=l(9571),D=function(){var t=(0,m.Z)(function a(){(0,d.Z)(this,a)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[g.ez,w,Q.q,s.u5,s.UX]]}),t}()}}]);